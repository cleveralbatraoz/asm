Detecting language using up to the first 30 seconds. Use `--language` to specify the language
Detected language: Russian
[00:00.000 --> 00:03.180]  Историю, как оно было сходно сделано.
[00:04.360 --> 00:11.600]  Так вот, RPU-X87 это про команды работы с плавающей точкой.
[00:11.600 --> 00:15.620]  То есть, всякие плоты, даблы и не только.
[00:17.200 --> 00:25.300]  И исходно процессор X8086 с плавающей точкой не умел работать.
[00:25.300 --> 00:30.300]  У него не было команд работы с плавающей точкой.
[00:31.060 --> 00:31.800]  Ну, вернее, как?
[00:32.460 --> 00:38.700]  В спецификации они были, но сам процессор их не поддерживал.
[00:39.600 --> 00:44.760]  Поддержка этих команд была вынесена в отдельную микросхему.
[00:44.760 --> 00:54.760]  И вместе с микросхемой Y8086 вы могли дополнительно к ней купить микросхему.
[00:55.300 --> 00:58.620]  Микросхему Y8087.
[00:59.620 --> 01:03.660]  И воткнуть специальный разъемчик на материнской плате.
[01:04.980 --> 01:09.240]  После этого у вас дополнительные команды, они работают.
[01:10.100 --> 01:18.060]  Потому что процессор эти команды просто пересылал вот в эту микросхему, которая называется SOP-процессор.
[01:18.060 --> 01:25.060]  То есть, вот такой блок, который работает в союзе с вашим процессором.
[01:25.300 --> 01:30.300]  Для обеспечения какой-то дополнительной функциональности.
[01:32.300 --> 01:37.300]  И если у вас есть эта микросхема, то эти команды работают.
[01:37.300 --> 01:40.300]  Нет микросхемы – крашится.
[01:42.300 --> 01:45.300]  Почему и название X87?
[01:45.300 --> 01:51.300]  Потому что вместе вот с линейкой процессоров выпускалась и соответствующая линейка SOP-процессоров.
[01:51.300 --> 01:54.300]  И так оно происходило.
[01:54.300 --> 01:55.300]  То есть, воткнуть специальный разъемчик на материнской плате.
[01:55.300 --> 02:01.300]  И делалось до 386 состояния.
[02:02.300 --> 02:04.300]  Начиная с 486 снова.
[02:04.300 --> 02:08.300]  SOP-процессор был интегрирован на кристалл процессора.
[02:09.300 --> 02:18.300]  То есть, начиная с 486 это уже просто обычный набор команд, которые реализуются в вашем процессоре.
[02:19.300 --> 02:23.300]  И теперь это просто такой блок внутри процессора.
[02:23.300 --> 02:24.300]  Но.
[02:24.300 --> 02:37.300]  потому что это было отдельной микросхемой, очень серьезно повлияло на то, как выглядят команды вот этого набора RPU.
[02:37.300 --> 02:42.300]  Что происходит? Во-первых, какие у нас есть регистры?
[02:42.300 --> 02:48.300]  Регистры у нас есть данных и управляющие.
[02:48.300 --> 03:15.300]  Регистры данных — это восемь регистров, которые, честно говоря, называются от R0 до R7, но под такими названиями вы их практически никогда не увидите.
[03:15.300 --> 03:18.300]  Максимум там, в каком-нибудь отатчике или еще где-то.
[03:18.300 --> 03:23.300]  Или вы в документации можете увидеть такую терминологию.
[03:23.300 --> 03:28.300]  Потому что по этим именам к ним невозможно обратиться.
[03:28.300 --> 03:35.300]  Почему? Потому что логически эти регистры образуют из себя стэк.
[03:35.300 --> 03:47.300]  Вот то, что мы на архитектуре рассматривали как стэковая архитектура, — это почти один в один набор команд X87.
[03:47.300 --> 03:48.300]  То есть, у нас есть стэк.
[03:48.300 --> 03:54.300]  То есть, у вас есть восемь ячеек, организованных в виде стэка на массиве.
[03:54.300 --> 04:03.300]  То есть, у вас есть некоторые стэкпоинты, и обращение происходит относительно этого стэкпоинта.
[04:03.300 --> 04:15.300]  То, куда указывает стэкпоинт — это ячейка ST0, следующая — ST1, предыдущая — ST7.
[04:15.300 --> 04:17.300]  И когда вы что-то пушите на стэк...
[04:18.300 --> 04:28.300]  То стэкпоинт смещается вниз, и теперь у вас это будет ST0, это — ST1, это — ST2.
[04:28.300 --> 04:39.300]  Так что программно оно называется ST0 по 7.
[04:39.300 --> 04:42.300]  Понятно?
[04:42.300 --> 04:47.300]  То есть восемь регистров, организованных в виде стэка.
[04:48.300 --> 04:51.300]  Теперь, что это за регистры?
[04:51.300 --> 04:59.300]  Это у вас семидесятибитные регистры.
[04:59.300 --> 05:05.300]  И хранят они ровно один вид данных.
[05:05.300 --> 05:15.300]  То, что называется extended precision.
[05:15.300 --> 05:17.300]  Тоже поминайте архитектуру.
[05:18.300 --> 05:21.300]  Форматы чисел с плавающей точкой.
[05:21.300 --> 05:29.300]  Вот эти регистры хранят числа с плавающей точкой в формате extended precision.
[05:29.300 --> 05:38.300]  То есть вид по знаку, 15 на экспоненту, 64 на мантизму, и 64, включая ведущую единичку.
[05:38.300 --> 05:41.300]  То есть здесь нет проразумеваемой единички.
[05:41.300 --> 05:44.300]  Мантизм действительно имеет размер 64.
[05:44.300 --> 05:46.300]  Вот такая вот карта.
[05:46.300 --> 05:50.300]  Вот такая вот картина в плане регистров.
[05:50.300 --> 05:53.300]  Есть еще особенности.
[05:53.300 --> 05:58.300]  Вот на нашей архитектуре у нас был просто вот такой стэк.
[05:58.300 --> 05:59.300]  Восемь ячеек.
[05:59.300 --> 06:01.300]  Пока все одинаково.
[06:01.300 --> 06:04.300]  Чем отличается от того, что у нас было?
[06:04.300 --> 06:12.300]  Отличается тем, что здесь ячейки стэка, они имеют еще флажок занятости, свободности.
[06:12.300 --> 06:14.300]  Если вы пытаетесь...
[06:14.300 --> 06:15.300]  Если вы пытаетесь...
[06:15.300 --> 06:30.300]  Если вы пытаетесь читать свободную ячейку или писать занятую, то у вас получится none.
[06:30.300 --> 06:40.300]  То есть, например, если у вас исходно весь стэк свободен, и вы пытаетесь что-то прочесть, то вы получите none.
[06:40.300 --> 06:43.300]  Если вы забросите в стэк 9 значений,
[06:43.300 --> 06:48.300]  то 9 не просто сотрет первое,
[06:48.300 --> 06:54.300]  а оно превратится в none.
[06:54.300 --> 06:56.300]  Понятно?
[06:56.300 --> 06:58.300]  Сейчас, если у меня есть уже записанный регистр,
[06:58.300 --> 07:00.300]  я вот так по кругу до него дошел и опять туда пишу,
[07:00.300 --> 07:02.300]  то я получу...
[07:02.300 --> 07:04.300]  Ты запишешь не то, что хотел записать,
[07:04.300 --> 07:06.300]  а none.
[07:06.300 --> 07:08.300]  Окей.
[07:08.300 --> 07:10.300]  Это отдельный швак,
[07:10.300 --> 07:12.300]  который хранится в служебном регистре.
[07:13.300 --> 07:20.300]  В служебном регистре хранится маска про каждый регистр вот этих данных,
[07:20.300 --> 07:23.300]  он свободный или он занятый.
[07:23.300 --> 07:26.300]  Когда ты туда что-то пишешь,
[07:26.300 --> 07:29.300]  то устанавливается, что он занятый.
[07:29.300 --> 07:33.300]  Когда ты оттуда читаешь команды вида pop,
[07:33.300 --> 07:39.300]  то оно помечается как свободное после этой команды.
[07:39.300 --> 07:42.300]  И, если ты пытаешься читать свободную ячейку,
[07:42.300 --> 07:44.300]  или писать занятую,
[07:44.300 --> 07:46.300]  то получаешь none.
[07:46.300 --> 07:49.300]  Получаешь в смысле на чтение none.
[07:49.300 --> 07:51.300]  И записывается none,
[07:51.300 --> 07:55.300]  вместо того, что ты просил записать.
[07:55.300 --> 07:57.300]  Какой none?
[07:57.300 --> 07:59.300]  Какой none не помню.
[07:59.300 --> 08:01.300]  Наверное, обычный тихий none,
[08:01.300 --> 08:04.300]  который получается в результате операции,
[08:04.300 --> 08:07.300]  когда включается none.
[08:07.300 --> 08:09.300]  Окей.
[08:09.300 --> 08:10.300]  Сейчас я попробую.
[08:10.300 --> 08:18.300]  Вот такая особенность.
[08:18.300 --> 08:19.300]  Так.
[08:19.300 --> 08:22.300]  Как я уже сказал, существуют управляющие регистры,
[08:22.300 --> 08:27.300]  где держится флажок занятости и свободности,
[08:27.300 --> 08:33.300]  где можно управлять режимом округления.
[08:33.300 --> 08:38.300]  По умолчанию операционные системы обычно настраивают
[08:38.300 --> 08:40.300]  в режим округления,
[08:40.300 --> 08:42.300]  в режиме ближайшему четному.
[08:42.300 --> 08:45.300]  То есть, если вы ничё не крутите,
[08:45.300 --> 08:50.300]  можете считать, что вы находитесь в режиме ближайшему четному.
[08:50.300 --> 08:56.300]  Но вы можете также переключить округление к нулю,
[08:56.300 --> 08:59.300]  к минутной бесконечности, к минутной бесконечности.
[08:59.300 --> 09:02.300]  Аппаратно всё продерживается без проблем.
[09:02.300 --> 09:06.300]  Что ещё интересного?
[09:06.300 --> 09:08.300]  Есть флажок
[09:08.300 --> 09:11.300]  Точность вычислений.
[09:11.300 --> 09:17.300]  Точность вычислений влияет только на некоторые операции.
[09:17.300 --> 09:21.300]  На деление, на корень квадратный.
[09:21.300 --> 09:25.300]  И этот флажок позволяет вам понизить точность
[09:25.300 --> 09:29.300]  и, соответственно, повысить скорость некоторых операций.
[09:29.300 --> 09:32.300]  Вы можете запросить полную точность.
[09:32.300 --> 09:35.300]  Вот, Extended Precision.
[09:35.300 --> 09:37.300]  Точность в уровне Double Precision.
[09:37.300 --> 09:43.300]  И точность в уровне Single Precision.
[09:43.300 --> 09:48.300]  Это тоже флажки внутри управляющих регистров.
[09:48.300 --> 09:52.300]  И они ещё раз влияют не на все команды.
[09:52.300 --> 09:54.300]  Например, сложение и вычитание
[09:54.300 --> 09:56.300]  всегда работает с полной точностью,
[09:56.300 --> 09:59.300]  вне зависимости от этой точности.
[09:59.300 --> 10:02.300]  То есть, точность только понижает точность некоторых команд.
[10:02.300 --> 10:04.300]  Не всех.
[10:07.300 --> 10:10.300]  Ну, или не считает немножко быстрее.
[10:14.300 --> 10:17.300]  Это всякие флажки.
[10:17.300 --> 10:23.300]  Потом, форматы, с которыми умеет работать процессор.
[10:23.300 --> 10:28.300]  Вот, внутри он всегда хранит Extended Precision.
[10:28.300 --> 10:32.300]  Но команды чтения записи...
[10:32.300 --> 10:37.300]  Во-первых, все команды работают только с оперативной памятью.
[10:37.300 --> 10:42.300]  У вас нет команды, которая пересылала бы данные
[10:42.300 --> 10:47.300]  из регистра процессора в регистр сопроцессора или обратно.
[10:47.300 --> 10:49.300]  Почему?
[10:49.300 --> 10:54.300]  Потому что разные микросхемы были.
[10:54.300 --> 10:59.300]  То есть, они общались только через оперативку.
[10:59.300 --> 11:06.300]  Поэтому, если вы хотите из EAX пересать что-то на сопроцессор,
[11:07.300 --> 11:11.300]  ну, неудача, придется EAX куда-то сохранить в память,
[11:11.300 --> 11:13.300]  скорее всего, на стэк,
[11:13.300 --> 11:16.300]  и оттуда уже прочитать на сопроцессор.
[11:16.300 --> 11:18.300]  То есть, во-первых, обратите внимание,
[11:18.300 --> 11:21.300]  происходит работа только через память.
[11:21.300 --> 11:26.300]  Нет команд пересылки данных между регистрами процессора
[11:26.300 --> 11:29.300]  и регистрами сопроцессора под регистрами данных.
[11:29.300 --> 11:35.300]  Во-вторых, команды сопроцессора,
[11:35.300 --> 11:39.300]  они умеют читать и писать данные в память
[11:39.300 --> 11:41.300]  в следующих форматах.
[11:41.300 --> 11:46.300]  Во-первых, плавающая точка.
[11:46.300 --> 11:49.300]  Float.
[11:49.300 --> 11:55.300]  Double.
[11:55.300 --> 11:57.300]  То есть, вы можете, наверное, сказать,
[11:57.300 --> 12:04.300]  уж из памяти число single precision.
[12:04.300 --> 12:07.300]  Оно прочтет из памяти single precision,
[12:07.300 --> 12:10.300]  сконвертирует его в extended precision
[12:10.300 --> 12:13.300]  и запушит это на стэк.
[12:13.300 --> 12:15.300]  Или вы можете сказать
[12:15.300 --> 12:19.300]  pop single precision.
[12:19.300 --> 12:23.300]  Тогда оно прочтет extended со стэка,
[12:23.300 --> 12:25.300]  сконвертирует его в single precision
[12:25.300 --> 12:30.300]  и запишет в память single precision.
[12:30.300 --> 12:33.300]  То есть, там команды, они вот такие конвертирующие.
[12:33.300 --> 12:36.300]  Внутреннее вычисление только в одном формате.
[12:36.300 --> 12:41.300]  А общение с внешним миром умеет разный формат.
[12:41.300 --> 12:44.300]  Умеется процессор и целые числа.
[12:44.300 --> 12:56.300]  Оно умеет форматы int 16, int 32, int 64.
[12:56.300 --> 13:01.300]  Обращаю ваше внимание строго со знаком.
[13:01.300 --> 13:03.300]  То есть, например, команды,
[13:03.300 --> 13:08.300]  которая читает или пишет у int 32,
[13:08.300 --> 13:12.300]  не существует.
[13:12.300 --> 13:16.300]  Поэтому, если вы просите, например, на C
[13:16.300 --> 13:22.300]  сконвертировать вам unsigned int в плавающую точку,
[13:22.300 --> 13:25.300]  то на самом деле у компилятора проблема.
[13:25.300 --> 13:29.300]  Потому что такой команды аппарата нет.
[13:29.300 --> 13:31.300]  И ему приходится извращаться.
[13:31.300 --> 13:35.300]  Ему приходится у вашего unsigned int
[13:35.300 --> 13:38.300]  отрезать старший битик,
[13:38.300 --> 13:41.300]  сконвертировать это как int,
[13:41.300 --> 13:46.300]  а потом посмотреть, если старший битик был не ноль,
[13:46.300 --> 13:49.300]  тогда нужно еще добавить поправку
[13:49.300 --> 13:51.300]  в значение старшего битика.
[13:51.300 --> 13:55.300]  А не получится после сканер делать его в int 64?
[13:55.300 --> 13:58.300]  Это не очень просто.
[13:58.300 --> 14:00.300]  Тебе нужна наполнительная память.
[14:01.300 --> 14:06.300]  Ну и во что она там скомпилится,
[14:06.300 --> 14:09.300]  в любом случае, не совсем в то, что ты просил.
[14:09.300 --> 14:11.300]  То, что я имею в виду.
[14:11.300 --> 14:17.300]  То есть, компилятор потенциально может пойти и через int 64,
[14:17.300 --> 14:20.300]  но обычно так не ходит.
[14:20.300 --> 14:24.300]  И если у тебя уже unsigned int 64,
[14:24.300 --> 14:26.300]  то тоже целей нет.
[14:26.300 --> 14:29.300]  И есть еще такой формат,
[14:29.300 --> 14:37.300]  как bcd80.
[14:37.300 --> 14:39.300]  Что это такое?
[14:39.300 --> 14:41.300]  Это такое дикое извращение,
[14:41.300 --> 14:46.300]  когда у вас 80-битное число,
[14:46.300 --> 14:48.300]  то есть 10 байтик,
[14:48.300 --> 14:54.300]  и каждый байтик хранит две десятичные цифры.
[14:54.300 --> 14:57.300]  То есть это целочисленное число,
[14:57.300 --> 14:58.300]  состоящее из 10 байтиков.
[14:59.300 --> 15:05.300]  Это уже из 16 десятичных цифр.
[15:05.300 --> 15:09.300]  Упакованных по две цифры в один байтик.
[15:09.300 --> 15:12.300]  Вот это форматы,
[15:12.300 --> 15:15.300]  которыми понимается процессор
[15:15.300 --> 15:18.300]  на чтение и на запись в оперативку.
[15:18.300 --> 15:23.300]  Которые конвертятся внутри него всегда вот в этом.
[15:23.300 --> 15:27.300]  Вот это вы должны осознать.
[15:27.300 --> 15:31.300]  То есть внутри только один тип данных.
[15:31.300 --> 15:37.300]  Наружу оно умеет вот такие варианты.
[15:37.300 --> 15:41.300]  А если я хочу проверить силовую точку в какую,
[15:41.300 --> 15:44.300]  мне надо проверять его через int или на int?
[15:44.300 --> 15:46.300]  Как хочешь, твои проблемы.
[15:46.300 --> 15:48.300]  Аппаратно есть вот это.
[15:48.300 --> 15:53.300]  Из такого самого неприятного я сказал,
[15:53.300 --> 15:56.300]  что unsigned числа,
[15:56.300 --> 15:59.300]  они имеют проблемы.
[15:59.300 --> 16:02.300]  Потому что прямой команды конвертирования unsigned
[16:02.300 --> 16:05.300]  в значении нет.
[16:05.300 --> 16:08.300]  Так, что у нас есть из команд?
[16:08.300 --> 16:11.300]  Самое простое.
[16:11.300 --> 16:16.300]  Это команды fld.
[16:16.300 --> 16:19.300]  fld это push на step.
[16:19.300 --> 16:24.300]  Соответственно, fld принимает адрес памяти
[16:24.300 --> 16:32.300]  и он соответствует вот этим вариантам.
[16:32.300 --> 16:35.300]  Как определить, какой вариант?
[16:35.300 --> 16:39.300]  По размерности.
[16:39.300 --> 16:42.300]  То есть здесь вы должны сказать, например,
[16:42.300 --> 16:43.300]  fld.
[16:43.300 --> 16:51.300]  Да, fld это будет означать...
[16:51.300 --> 16:53.300]  fld это float.
[16:54.300 --> 16:56.300]  Символ precision.
[16:56.300 --> 16:57.300]  А экстендерт?
[16:57.300 --> 16:59.300]  Флорд это сколько бит.
[16:59.300 --> 17:01.300]  Вот что вы должны понимать.
[17:01.300 --> 17:03.300]  Сколько бит флорд?
[17:03.300 --> 17:05.300]  32 бита.
[17:05.300 --> 17:08.300]  32 бита это какой формат?
[17:08.300 --> 17:10.300]  Float.
[17:10.300 --> 17:14.300]  То есть вы указываете размерность вашего типа,
[17:14.300 --> 17:16.300]  к которому вы обращаетесь.
[17:16.300 --> 17:20.300]  Если вы хотите DAW, то кто это?
[17:20.300 --> 17:21.300]  Кворт.
[17:21.300 --> 17:22.300]  Кворт.
[17:22.300 --> 17:25.300]  А экстендерт вы вряд ли знаете.
[17:25.300 --> 17:27.300]  Я, честно говоря, тоже не очень хорошо помню,
[17:27.300 --> 17:30.300]  потому что у разных асцендров там немножко разошлись.
[17:30.300 --> 17:31.300]  Ну, вроде бы.
[17:31.300 --> 17:36.300]  Большинство используют тбайт.
[17:36.300 --> 17:41.300]  10 байт.
[17:41.300 --> 17:43.300]  Да, там вот такая странная монтация.
[17:43.300 --> 17:48.300]  Если не за работы, ну, посчитайте монтацию.
[17:48.300 --> 17:51.300]  Экстендерт встречается в реальной жизни довольно редко.
[17:52.300 --> 18:00.300]  Вот, это про push на стэк,
[18:00.300 --> 18:04.300]  то, что в памяти лежит как число в правой щиточке.
[18:04.300 --> 18:07.300]  Я бы это довольно-таки называл битом.
[18:07.300 --> 18:09.300]  Ну, как не называют?
[18:09.300 --> 18:11.300]  Еще раз, оно называется тбайт.
[18:11.300 --> 18:13.300]  Да, нет значения помощи.
[18:13.300 --> 18:16.300]  Ну, если не указывать ничего.
[18:16.300 --> 18:18.300]  Нет.
[18:18.300 --> 18:20.300]  У тебя обязаны для тэка минуты.
[18:20.300 --> 18:21.300]  Адрес памяти.
[18:21.300 --> 18:24.300]  Да, вот если я не размянусь.
[18:24.300 --> 18:27.300]  Наоборот, это как бы хорошо.
[18:27.300 --> 18:33.300]  То есть, ну, если зависит от асцендров.
[18:33.300 --> 18:36.300]  Вот, насом тебя пугает.
[18:36.300 --> 18:39.300]  Скажет, действие, отношенность, уточни.
[18:39.300 --> 18:42.300]  А масом, по-моему, сожрет ее просто так.
[18:42.300 --> 18:46.300]  И какой вариант там будет по умолчанию, вот черт его знает.
[18:46.300 --> 18:50.300]  То есть, мы используем насом, и у нас таких проблем нет.
[18:51.300 --> 18:57.300]  Но некоторые другие асцендры могут вести в этом месте себя по-другому.
[18:57.300 --> 19:00.300]  Потому что это уже не совсем спецификация команд.
[19:00.300 --> 19:08.300]  Это уже скорее, что допускает или не допускает конкретных императоров.
[19:08.300 --> 19:10.300]  Вот.
[19:10.300 --> 19:19.300]  Дальше у нас есть r, i, l, d.
[19:19.300 --> 19:23.300]  Ну, аналогично, как и эти форматы.
[19:23.300 --> 19:29.300]  И f, b, l, d по этот формат.
[19:33.300 --> 19:38.300]  То есть, в f, b, l, d можете никакие спецификаторы не указывать.
[19:38.300 --> 19:40.300]  Там всего один вариант.
[19:40.300 --> 19:47.300]  А вот f, i, l, d тоже требует указания, кого вы там хотите.
[19:49.300 --> 19:55.300]  Потом, насколько я помню, f, l, d вы можете не только в памяти сказать,
[19:55.300 --> 20:01.300]  но и сказать какой-то st.
[20:01.300 --> 20:07.300]  Что позволяет вам сделать прям, как у нас было на архитектуре,
[20:07.300 --> 20:13.300]  этакий push, копирующий значения у вас уже на стэке существующей.
[20:13.300 --> 20:17.300]  То есть, вы можете так вот сдублировать, что у вас есть.
[20:17.300 --> 20:18.300]  Вот.
[20:18.300 --> 20:24.300]  Сдублировать, что уже было на стэке через команду f, l, d.
[20:24.300 --> 20:26.300]  Что есть еще интересного?
[20:26.300 --> 20:30.300]  Есть несколько команд про константочки.
[20:30.300 --> 20:36.300]  Это команды f, l, d, z.
[20:36.300 --> 20:39.300]  f, l, d, 1.
[20:39.300 --> 20:44.300]  f, l, d, p.
[20:44.300 --> 20:46.300]  Еще, по-моему, два еще есть.
[20:46.300 --> 20:53.300]  Которые позволяют вам вот запушить 0, 1, p, v.
[20:53.300 --> 20:55.300]  Еще что-то.
[20:55.300 --> 20:56.300]  Да.
[20:56.300 --> 20:58.300]  Что-то там еще получилось.
[20:58.300 --> 21:08.300]  Из забавного, вот, f, l, d, i хранит p даже в более точном виде
[21:08.300 --> 21:14.300]  и округляет его в соответствии с режимом округления, который я бы указал.
[21:14.300 --> 21:22.300]  То есть, все равно прям вот еще и округлить вам p в ту сторону, в которую вы просили округлить.
[21:22.300 --> 21:28.300]  А если я константу пик в крошечном коде, компилятор это заменит на нормальный?
[21:28.300 --> 21:30.300]  Скорее всего, нет.
[21:30.300 --> 21:33.300]  Скорее всего, он просто из памяти загрузит твое значение.
[21:33.300 --> 21:34.300]  Окей.
[21:34.300 --> 21:36.300]  А как нужно представить, чтобы он загрузил мне 0, 1, p?
[21:36.300 --> 21:39.300]  Это уже как заканчивать конкретный компилятор.
[21:39.300 --> 21:41.300]  Ладно.
[21:41.300 --> 21:43.300]  С синтетиками.
[21:43.300 --> 21:46.300]  Ну вот, не уверен.
[21:49.300 --> 21:56.300]  Так, теперь про обратную сторону команды pop.
[21:56.300 --> 22:03.300]  Есть команды f, s, t, возможно, p.
[22:03.300 --> 22:05.300]  То же самое.
[22:07.300 --> 22:12.300]  f, i, s, t, возможно, p.
[22:13.300 --> 22:19.300]  И f, b, s, t, p.
[22:19.300 --> 22:22.300]  Что здесь происходит?
[22:22.300 --> 22:31.300]  f, s, t это сохранить вершину стека, куда вы там сказали память.
[22:31.300 --> 22:36.300]  Просто сохранить, но pop не делал.
[22:36.300 --> 22:41.300]  А f, s, t, p это сохранить и сделать pop.
[22:41.300 --> 22:55.300]  pop означает пометить вершину как свободную и прокрутить стек, чтобы ваша вершина ушла в st7.
[22:55.300 --> 23:02.300]  Соответственно, f, i, s, t тоже есть.
[23:02.300 --> 23:05.300]  Просто f, i, s, t, p.
[23:05.300 --> 23:09.300]  f, b, s, t только в форме p.
[23:09.300 --> 23:24.300]  Еще из ссылок есть команда очень полезная.
[23:24.300 --> 23:30.300]  f, x, t, h.
[23:30.300 --> 23:37.300]  f, x, t, h это exchange вершины стека.
[23:37.300 --> 23:42.300]  Вершины с тем, кого вы указали.
[23:42.300 --> 23:46.300]  Команда f, x, t, h, s, t, 1.
[23:46.300 --> 23:50.300]  Поменяет вам местами прозначение на вершине стека.
[23:52.300 --> 23:54.300]  Из интересного.
[23:54.300 --> 24:06.300]  Команда f, x, t, h уже довольно давно почти всеми процессорами исполняется за 0 тактов.
[24:07.300 --> 24:09.300]  Что это означает?
[24:09.300 --> 24:14.300]  Это означает, что она исполняется не во время исполнения,
[24:14.300 --> 24:21.300]  а во время подготовки к исполнению и переименования регистров.
[24:21.300 --> 24:24.300]  Тоже вспоминаем архитектуру,
[24:24.300 --> 24:31.300]  что вот для решения разных проблем с суперскалярностью
[24:31.300 --> 24:34.300]  существует техника переименования регистров,
[24:34.300 --> 24:36.300]  которая позволяет вам динамически,
[24:36.300 --> 24:41.300]  динамически отображать ваши логические имена регистров
[24:41.300 --> 24:44.300]  в фактические аппаратные ячейки.
[24:44.300 --> 24:47.300]  Так вот, f, x, t, h занимается тем,
[24:47.300 --> 24:51.300]  что просто меняет это отображение.
[24:51.300 --> 24:55.300]  Никакой пересылки данных не происходит.
[24:55.300 --> 24:59.300]  Поэтому стоимость ее выполнения,
[24:59.300 --> 25:03.300]  вот на конвейерах исполнения, 0.
[25:03.300 --> 25:05.300]  Она не выполняется.
[25:05.300 --> 25:08.300]  Но не сказать, что она бесплатная.
[25:08.300 --> 25:12.300]  Потому что ее все равно нужно прочесть из памяти,
[25:12.300 --> 25:17.300]  декодировать, поставить в очередь команды и так далее.
[25:17.300 --> 25:21.300]  То есть то, что она на этапе выполнения стоит 0,
[25:21.300 --> 25:24.300]  не означает, что она прям совсем бесплатная.
[25:24.300 --> 25:29.300]  Но она такая суперлегкая.
[25:29.300 --> 25:32.300]  И это очень актуально.
[25:32.300 --> 25:34.300]  Потому что
[25:34.300 --> 25:38.300]  команды со процессора, как вы увидите,
[25:38.300 --> 25:42.300]  они супер убойные по адресации.
[25:42.300 --> 25:46.300]  А именно, всякую арифметику и так далее
[25:46.300 --> 25:52.300]  вы можете делать только по вершине стэка.
[25:52.300 --> 25:56.300]  Что у нас есть еще из пересылок?
[25:56.300 --> 26:01.300]  Это было добавлено явно в занимательном программе, где-то.
[26:01.300 --> 26:02.300]  Есть еще команда f, c, h.
[26:02.300 --> 26:07.300]  f, c, mov.
[26:07.300 --> 26:09.300]  Условие.
[26:09.300 --> 26:12.300]  Которая позволяет
[26:12.300 --> 26:18.300]  условно, видимо, загрузить на вершину стэка или не загрузить
[26:18.300 --> 26:24.300]  из st сколько-то
[26:24.300 --> 26:27.300]  в соответствии с флагами процессора.
[26:27.300 --> 26:30.300]  Но еще раз, это прям по своей дикости.
[26:30.300 --> 26:33.300]  Очевидно, что команда очень поздняя.
[26:33.300 --> 26:38.300]  Что она обращается к флагам процессора.
[26:38.300 --> 26:42.300]  Явно это произошло после
[26:42.300 --> 26:45.300]  тестовой интеграции и всего.
[26:45.300 --> 26:48.300]  То есть это команда очень поздняя.
[26:52.300 --> 26:55.300]  Вообще, набор команд со процессора
[26:55.300 --> 26:58.300]  очень мало меняется.
[26:58.300 --> 27:03.300]  Где-то со времен, может, 286-го
[27:03.300 --> 27:07.300]  изменения были супер незначительные.
[27:07.300 --> 27:10.300]  Там добавили буквально команды три.
[27:10.300 --> 27:13.300]  f, c, mov.
[27:13.300 --> 27:16.300]  Еще там одна командочка и, может, еще один.
[27:16.300 --> 27:20.300]  То есть этот набор команд, как он возник в старинные времена,
[27:20.300 --> 27:25.300]  так прям один в один идет с минимальным изменением.
[27:25.300 --> 27:27.300]  Так что f, c, mov.
[27:27.300 --> 27:29.300]  f, c, mov.
[27:29.300 --> 27:31.300]  Удивительно, что еще добавили.
[27:36.300 --> 27:38.300]  Это была всякая пересылка.
[27:40.300 --> 27:43.300]  Теперь, что у нас есть из арифметики.
[27:44.300 --> 27:46.300]  Из арифметики у нас есть...
[27:57.300 --> 28:00.300]  Это еще как бы оттяжкой у той дранины,
[28:00.300 --> 28:02.300]  с которой мы банули должны быть все,
[28:02.300 --> 28:04.300]  а тут, в общем, опять же не очень.
[28:08.300 --> 28:10.300]  Каким образом это работает,
[28:10.300 --> 28:12.300]  у этого бюджетного места?
[28:12.300 --> 28:14.300]  Немного, в общем, видно.
[28:14.300 --> 28:15.240]  Долженов
[28:15.240 --> 28:16.300]  bulun means
[28:16.300 --> 28:18.380]  also
[28:18.380 --> 28:19.720]  have
[28:19.720 --> 28:20.340]  an
[28:20.340 --> 28:21.300]  и
[28:21.300 --> 28:22.300]  device
[28:22.300 --> 28:23.300]  storage
[28:23.300 --> 28:24.300]  ,
[28:24.300 --> 28:25.300]  а
[28:25.300 --> 28:26.100]  возникает
[28:26.100 --> 28:26.300] 照,
[28:26.300 --> 28:43.880]  почему компиляторы неохотно используют эти команды я сижу учет играюсь не надо прямо
[28:43.880 --> 28:53.180]  говорить не используя соси чтобы добиться этого что это не единственный способ работы
[28:53.180 --> 29:01.880]  с числами с плавающей точкой и кроме фпу современные процессы еще имеют другие команды
[29:01.880 --> 29:15.920]  которые называются сосед ну они появились очевидно существо позднее и то что использовать
[29:15.920 --> 29:21.380]  но еще перекликается с конвенциями вызова
[29:23.180 --> 29:40.640]  вот эту явно заложен в конвенции вызова 32 битвы а именно как передавать плавающую точку
[29:40.640 --> 29:52.020]  в 32 видео во первых аргументы передаются через стэк если обычный стэк-процессор ничего
[29:52.020 --> 29:52.380]  особенно
[29:53.180 --> 30:01.360]  возвращаемое значение если это число с правой щиточкой то она лежит должно
[30:01.360 --> 30:13.760]  при возврате функции оказаться на вершине стэка со процессором из забавного без разницы
[30:13.760 --> 30:22.520]  возвращаете в клуб или там потому что это это это вершина стэка со процессором
[30:23.180 --> 30:32.560]  а на самом деле там лежит вообще их страны престиж то есть точки зрения обе возвращаете
[30:32.560 --> 30:43.860]  в флот или дабл вообще никакой разницы это никак не заметно на самом деле вы возвращаете
[30:43.860 --> 30:53.020]  и не то или другое вы возвращаете экстерна просишь просто если вы описали что функция вращает хуже
[30:53.180 --> 30:58.560]  то вот это значение если вы пытаетесь сохранить память
[30:58.560 --> 31:03.820]  animate куда-то куба называли на весь fooled оно будет сохраняться как фло
[31:03.820 --> 31:09.660]  тайске вы говорили что возвращается д straggle выставляться когда marble
[31:09.660 --> 31:19.380]  интерпретация как относиться к этому значению желей сказко вот она зависит от того как вы
[31:19.380 --> 31:20.100]  сказали ваша фунция возвращает на флот или задливаете колонну делаете на каком-то стремится
[31:20.100 --> 31:20.120]  то здесь есть несколько ваше право сможете 30Young это значение на основном людях тайске
[31:20.120 --> 31:23.140]  вам просто большой вот это вот это ответит мне как за это внимание фwnyк выполнили
[31:23.180 --> 31:25.420]  Но технически никакой разницы.
[31:28.260 --> 31:31.900]  Что там с точки зрения сохранения и очистки?
[31:32.620 --> 31:33.560]  Следующее правило.
[31:34.180 --> 31:39.320]  При вызове функции стексопроцессор должен быть пустой.
[31:39.320 --> 31:47.320]  То есть все ячейки должны находиться в состоянии помечено как пусто.
[31:48.620 --> 31:50.080]  Не залито.
[31:50.080 --> 31:58.880]  При возврате с функции весь стексопроцессор также должен находиться в состоянии пусто.
[31:59.680 --> 32:06.380]  За исключением, возможно, вершины, только если вы возвращаете число с клавишей точки.
[32:07.320 --> 32:11.680]  То есть если вы решили поработать со стексопроцессором,
[32:12.160 --> 32:17.280]  то вы можете рассчитывать на то, что вы его получили в состоянии чисто
[32:17.280 --> 32:19.880]  и должны после себя оставить стексопроцессор.
[32:20.080 --> 32:20.960]  В состоянии чисто.
[32:25.360 --> 32:27.960]  Вот это 34-битная конвенция.
[32:28.660 --> 32:34.080]  В 64-битной конвенции плавающая точка передается через другие регистры,
[32:34.880 --> 32:37.280]  через XMM, до которых мы еще не дошли.
[32:38.960 --> 32:42.660]  Но правила по стексопроцессору такие же.
[32:43.640 --> 32:48.960]  В том плане, что получаете в состоянии чисто, верните обратно в состоянии чисто.
[32:50.080 --> 32:55.560]  Возвращаемое значение теперь не на стеке стексопроцессора, поэтому всегда чисто.
[32:58.400 --> 33:05.460]  И сохранность стексопроцессора, по-моему, не гарантируется в модулях ядра.
[33:07.140 --> 33:12.640]  То есть в дрейверах пользоваться стексопроцессором не рекомендуется.
[33:13.360 --> 33:19.640]  Без специальных телоупряжений с вашей стороны ядро не будет пытаться удерживаться.
[33:20.080 --> 33:27.280]  Даже в изначении этих регистров, при всяких переключениях контекста, прерываниях и прочих вещах.
[33:27.640 --> 33:30.360]  Если вы терминалков.
[33:32.420 --> 33:36.580]  То есть плавающая точка, есть дополнительные заморочки в ядре.
[33:37.880 --> 33:43.940]  Но так как мы не про ядро, я вам просто сообщаю, что это не стексопроцессор, но у нас это не дырка.
[33:46.460 --> 33:49.440]  Это были конвенции визы.
[33:50.080 --> 33:53.400]  Скорее, плохая практика использовать FPU в целом.
[33:53.600 --> 33:54.860]  Ну, почему плохая?
[33:55.380 --> 33:56.640]  Ну, в ядре вот...
[33:56.640 --> 34:02.620]  Если ты считаешь начисления, которые явно вещественные, то как бы вариантов нет.
[34:03.320 --> 34:07.960]  Я недавно запускал одну модельку у себя на ноутбуке локальной.
[34:08.040 --> 34:12.880]  Я начал ругаться, что у меня на майке нет FPU-16, поэтому начинать использовать FPU-32.
[34:13.760 --> 34:14.740]  Что-то такое она сказала.
[34:14.740 --> 34:15.740]  Я удивился, что...
[34:16.380 --> 34:16.740]  Я прям отдельным борнингом...
[34:20.080 --> 34:25.400]  У меня нет такой основной поддержки начисления из 16-битной нечистой и слабой щиточки.
[34:25.400 --> 34:25.580]  Да.
[34:26.060 --> 34:30.020]  Поэтому оно будет использовать число большей точности.
[34:30.800 --> 34:37.300]  Но ты готовься к тому, что оно будет а, медленнее, и, я думаю, даже это более критично.
[34:37.820 --> 34:44.180]  Может быть оно имело в виду, что все твои сетки, они вдвое распухнут по размеру оперативки.
[34:45.080 --> 34:47.440]  Что оно типа сконвертит один раз.
[34:47.440 --> 34:49.660]  Не время работы будет конвертить.
[34:50.080 --> 34:58.380]  а с конверсией при загрузке, и готовься заплатить вдвое больше оперативки, чем вот официально эта модель длит.
[35:02.620 --> 35:12.220]  Но вот здесь вот вообще никаких half-precision нет, потому что когда это создавалось, такого формата просто не было.
[35:12.220 --> 35:20.140]  Например, первый стандарт ИЕ-754, там был только вариант single-precision и double-precision.
[35:21.380 --> 35:31.820]  Extended был специально сделан как такой более точный тип для внутренних вычислений, чтобы вы могли промежуточные значения считать с большей точностью.
[35:31.820 --> 35:42.180]  То есть если у вас на входе double, на выходе double, чтобы вы в процессе вычислений, ну по возможности не теряли точность своих значений, нужно побольше.
[35:42.220 --> 35:50.040]  И для этого был и разработан Extended, такой промежуточный тип с большей точностью.
[35:52.040 --> 35:59.280]  Half-precision появился сильно позже, поэтому в сопроцессоре он никак не представлен, его просто нет.
[36:04.220 --> 36:06.060]  Теперь команды.
[36:08.480 --> 36:11.200]  Ну, во-первых, сложение.
[36:12.220 --> 36:30.220]  У вас есть команда F, A, D, D, возможно, P, и F, и A, D, D.
[36:35.220 --> 36:39.740]  Формула B, что-то я не помню, может и нет.
[36:42.220 --> 36:44.980]  Что здесь происходит?
[36:46.080 --> 36:50.860]  Во-первых, правило номер один, запомните его про все команды F, U.
[36:51.500 --> 36:57.580]  Любые команды работают с одним из аргументов вершины спектра.
[36:59.800 --> 37:03.040]  То есть вы можете сказать
[37:03.040 --> 37:11.980]  F, A, D, D, S, T, 0, S, T, 3.
[37:12.220 --> 37:14.500]  Все и все.
[37:14.500 --> 37:17.540]  Вы можете сказать
[37:17.900 --> 37:24.560]  F, A, D, D, S, T, 3, S, T, 0.
[37:27.320 --> 37:31.160]  Вы можете сказать
[37:31.160 --> 37:39.200]  F, A, D, D, S,T, 0, A, S, T, одрес памяти.
[37:39.520 --> 37:40.860]  Но
[37:40.860 --> 37:41.580]  Вы не можете сказать
[37:41.580 --> 37:42.180]  F, A, D, D, S, T, 0, A, S, T, 0.
[37:42.180 --> 37:49.720]  F, A, D, D, ST1, ST2, ST1, память и так далее.
[37:50.780 --> 37:56.600]  То есть в вашей команде один из аргументов должен быть вершиной стэка.
[37:59.200 --> 38:00.080]  Понятно?
[38:01.560 --> 38:10.120]  И некоторые ассемблеры требуют, некоторые допускают, но не все,
[38:10.120 --> 38:15.120]  чтобы у вас вот так вот эти команды были записаны.
[38:16.740 --> 38:21.120]  Почему нельзя допустить, но просто инструментировать там эксченч?
[38:21.940 --> 38:25.880]  Ну вот еще раз, это, нет-нет, эксченч это дополнительная команда.
[38:26.460 --> 38:30.560]  А ассемблер, как компилятор, не занимается вставкой дополнительных команд.
[38:31.200 --> 38:34.780]  Вот какие ты просил команды сделать, вот такие он и делает.
[38:36.880 --> 38:39.780]  Так что если вы видите вот такую команду,
[38:40.120 --> 38:47.820]  это означает добавить к вершине стэка число, указанное вот в этом адресе памяти.
[38:48.780 --> 38:52.080]  Добавить к вершине стэка значение вот здесь.
[38:52.880 --> 38:58.520]  То есть если у вас один аргумент, то это означает, что другой аргумент это ST0.
[38:59.480 --> 39:06.120]  Если у вас два аргумента, то поздравляю, один из них должен быть ST0.
[39:06.500 --> 39:09.740]  Обычно в такой форме пишется, что вот ST0 второй аргумент,
[39:10.120 --> 39:12.120]  а второй не ST0.
[39:14.120 --> 39:19.120]  Соответственно, F I A D D возможно только в какой форме?
[39:24.120 --> 39:28.120]  Потому что целое число, вот I это от слова integer,
[39:28.120 --> 39:31.120]  вы можете использовать только из памяти.
[39:32.120 --> 39:35.120]  То есть вот F I A D D это вот так.
[39:37.120 --> 39:39.120]  И здесь есть команда F I A D D.
[39:40.120 --> 39:41.120]  F I A D D P.
[39:41.120 --> 39:43.120]  P от слова pop.
[39:44.120 --> 39:50.120]  И после своей работы эта команда выкидывает значение вершины стэка со стэка.
[39:51.120 --> 39:53.120]  Соответственно, это имеет смысл когда?
[39:55.120 --> 39:57.120]  Если он пишет из стэка в...
[39:57.120 --> 39:58.120]  Вот так.
[40:00.120 --> 40:06.120]  То есть если вы складываете вершину стэка куда-то вовнутрь,
[40:06.120 --> 40:12.120]  то после этого может иметь смысл число с вершины выкинуть,
[40:12.120 --> 40:14.120]  если оно вам больше не нужно.
[40:14.120 --> 40:20.120]  То есть F I A D D P только вот в таком направлении имеет смысл.
[40:22.120 --> 40:23.120]  Можно вопрос?
[40:23.120 --> 40:24.120]  Да.
[40:24.120 --> 40:25.120]  Общий.
[40:25.120 --> 40:26.120]  Я пока не выкупил прикол.
[40:26.120 --> 40:27.120]  Зачем стэковая машина здесь идейно?
[40:27.120 --> 40:28.120]  Она удобна?
[40:28.120 --> 40:30.120]  Потому что так скорректировать.
[40:30.120 --> 40:31.120]  Ладно.
[40:31.120 --> 40:32.120]  Вообще-то было довольно модно.
[40:32.120 --> 40:34.120]  И чем-то это удобно.
[40:34.120 --> 40:38.120]  Чем-то это удобно с точки зрения компиляторов.
[40:38.120 --> 40:39.120]  Хаймер был.
[40:39.120 --> 40:40.120]  Не уверен.
[40:41.120 --> 40:45.120]  С точки зрения, конечно, прямого программирования это более страдание,
[40:45.120 --> 40:47.120]  которое вы прямо сегодня и почувствуете.
[40:49.120 --> 40:52.120]  Но вот оно было спроектировано как стэковая пистолет.
[40:57.120 --> 40:58.120]  Так.
[40:58.120 --> 40:59.120]  Дальше арифметика.
[41:02.120 --> 41:03.120]  Полностью аналогично.
[41:04.120 --> 41:23.120]  У нас есть команды F SUB и F SUB F.
[41:23.120 --> 41:28.120]  Звездочка означает те же самые формы, что и здесь.
[41:28.120 --> 41:33.120]  F SUB это вычитание из первого аргумента второго с записью
[41:33.120 --> 41:41.120]  в первый, а SUB R это вычитание из второго первого, но с записью
[41:41.120 --> 41:42.120]  в первый.
[41:42.120 --> 41:47.120]  То есть вы всегда пишете в первый аргумент, но направление
[41:47.120 --> 41:52.120]  вычитания вот здесь противоположное.
[41:52.120 --> 41:56.120]  Понятно, нет?
[41:56.120 --> 42:00.120]  То есть вы обычно из A вычитаете B.
[42:00.120 --> 42:02.120]  То есть ваша операция видно минус равно.
[42:02.120 --> 42:06.120]  А SUB R вычитает из B A.
[42:06.120 --> 42:08.120]  Но пишет все равно в A.
[42:08.120 --> 42:11.120]  То есть по сути это то же самое, что и в F SUB.
[42:11.120 --> 42:12.120]  Да.
[42:12.120 --> 42:13.120]  Да.
[42:13.120 --> 42:18.120]  То есть если вы обычно вычтите и поменяете знак,
[42:18.120 --> 42:23.120]  то это будет аналог SUB R.
[42:23.120 --> 42:27.120]  Только оно стоит как обычное вычитание, а не как вычитание
[42:27.120 --> 42:30.120]  умноженное.
[42:30.120 --> 42:34.120]  А если вы пишете в B, то вы можете поменять
[42:34.120 --> 42:36.120]  все команды.
[42:36.120 --> 42:39.120]  Потому что это будет формат.
[42:39.120 --> 42:43.120]  Это значит что у вас есть параметр.
[42:43.120 --> 42:44.120]  Ещё раз, смотри.
[42:44.120 --> 42:46.120]  Все команды работают со стэком.
[42:46.120 --> 42:47.120]  А стэк хранят числа только в таком формате.
[42:47.120 --> 42:48.120]  То есть если там круговый оборотится там ровный,
[42:48.120 --> 42:49.120]  к одному битву и слабое слово, то с вашим тэг-карстки
[42:49.120 --> 42:50.120]  так и нет?
[42:50.120 --> 42:51.120]  Нет.
[42:51.120 --> 42:52.120]  У тебя нет команды обратиться к такому.
[42:52.120 --> 42:53.120]  Ну это да.
[42:53.120 --> 42:54.120]  Другой вопрос.
[42:54.120 --> 42:57.120]  У тебя все команды, которые работают с этим стэком,
[42:57.120 --> 42:58.120]  работают только с этим форматом.
[42:58.120 --> 42:59.120]  А если они не работают с этим форматом, то у них
[42:59.120 --> 43:08.000]  этим форматом. Ты можешь конвертировать его при записи на чтение в память, но внутри только один
[43:08.000 --> 43:21.180]  вариант. Внутреннее пространение всегда экстренным. Так, что у нас есть дальше? Дальше у нас есть
[43:21.180 --> 43:40.080]  умножение FNUFDFDF. Тоже во всех формах, которые там были, полностью аналогичны.
[43:40.080 --> 43:50.800]  Еще один вопрос. А у нас FST и FLD
[43:50.800 --> 43:51.160]  аналогичны?
[43:51.160 --> 44:07.480]  Нет. XO76 вообще от вас почти никогда не требует выравнивания. Где есть требования, я вам скажу явно, обратите внимание. Если я не говорю, значит никаких требований не требует выравнивания.
[44:07.480 --> 44:12.580]  Вопрос. Если на ноль у нас бесконечность записывается?
[44:12.580 --> 44:20.780]  Смотря что ты делаешь. Если делаешь, например, какое-то конечное число, например, 1 на 0, получишь выравнивание.
[44:20.780 --> 44:22.860]  Бесконечность?"
[44:22.860 --> 44:26.920]  Вопрос управляет, то есть если ты делишь минус 1 на ноль, получишься бессконечно.
[44:26.920 --> 44:36.360]  минус 1 на минус ноль не будет, без конечностей. Если ты делишь 0 на ноль, вот тогда ты получишь 0.
[44:36.360 --> 44:41.880]  То есть прям, такие довольно естественные математические правила.
[44:46.680 --> 44:48.900]  То есть если у вас получается, например, на 0 с علевым vieleти, малинку подugarн r1 просто вполне форматы необходимых, вот тогда Bh Cu U чувс у вас coordinating need. Если у вас получается на 0 Сфераме widøre Dahueeim и 100 на 0
[44:50.780 --> 45:02.540]  то это умеет бросить вас исключения в том числе да он умеет обрабатывать сигнальные надо бросая
[45:02.540 --> 45:11.880]  исключения но эти исключения вы можете замаскировать выключить и по дефолту обычная
[45:11.880 --> 45:18.240]  операционная система расстраивает вам состояние процесса таким образом что все исключения
[45:18.240 --> 45:30.000]  замаскированы то есть сопроцессор не кидает исключений пока вы не включите их явно чтобы
[45:30.000 --> 45:36.600]  включить нужно соответствующий управляющий диск записать соответствующую константочку
[45:36.600 --> 45:45.480]  которая размастерует некоторые исключения которые вы хотите поэтому потенциально и
[45:45.480 --> 45:48.120]  даже в сишном коде вы можете
[45:48.240 --> 45:55.920]  вот сказать я хочу размаскировать какие-то исключения и железо тогда будет бросать вам
[45:55.920 --> 46:02.200]  эксцессию ну полезно если вы дебажитесь у вас там где-то лезут надо и вы хотели бы под
[46:02.200 --> 46:08.940]  датчиком остановиться вот сразу в том месте а не искать бэктрейсы а где же там надо появились у
[46:08.940 --> 46:14.920]  меня так что оно умеет исключения и их можно включить
[46:18.240 --> 46:24.620]  исключения которые понимали это значит что программа
[46:24.620 --> 46:42.480] ולם signal это понятие в общении
[46:44.160 --> 46:44.220]  и
[46:44.220 --> 46:47.880]  а моем
[46:48.240 --> 46:53.240]  не на 100% соответствует терминалу из Ринукса.
[46:53.240 --> 46:57.240]  То есть оно, конечно, как-то транслируется в какой-то сигнал,
[46:57.240 --> 47:02.240]  но я не верю, что там один в один отображается.
[47:02.240 --> 47:05.240]  — Там, по-моему, постпроцентный сигнал, да, или исключение постпроцентного?
[47:05.240 --> 47:08.240]  — Так вот, там есть разные исключения.
[47:08.240 --> 47:12.240]  Ты там получишь один сигнал, а здесь ты получишь более подробный.
[47:12.240 --> 47:15.240]  — Окей, а как ты их отправляешь?
[47:15.240 --> 47:18.240]  — Система зависит.
[47:18.240 --> 47:22.240]  Под Windows существует абсолютно прекрасный механизм,
[47:22.240 --> 47:25.240]  который имеет Visual Studio и который имеет сланг.
[47:25.240 --> 47:28.240]  Это вы можете написать на C,
[47:28.240 --> 47:34.240]  ну, я их написал, блок try, два подчёркивания.
[47:38.240 --> 47:40.240]  Excel.
[47:45.240 --> 47:52.240]  Excel.
[47:52.240 --> 47:59.240]  Обратите внимание, что это не имеет никакой связи с try, catch, use.
[47:59.240 --> 48:02.240]  Вообще ничего общего.
[48:02.240 --> 48:10.240]  try, except — это блок, который позволяет вам ловить аппаратные исключения,
[48:10.240 --> 48:13.240]  такие как зачисленное деление на ноль,
[48:13.240 --> 48:18.240]  вы обратились к несуществующей памяти и так далее.
[48:18.240 --> 48:21.240]  Ваша программа не просто отправляется к чертям,
[48:21.240 --> 48:25.240]  ну, максимум вас поздравят каким-то там сигналом,
[48:25.240 --> 48:28.240]  после которого всё, что вы можете сделать,
[48:28.240 --> 48:30.240]  по большому счёту, просто завершится.
[48:30.240 --> 48:33.240]  Здесь вы пишете блок except,
[48:33.240 --> 48:36.240]  и если здесь случился exception,
[48:36.240 --> 48:39.240]  то вызывается, на самом деле, здесь выражение,
[48:39.240 --> 48:41.240]  которое определяет,
[48:41.240 --> 48:46.240]  вы хотите обработать это исключение или не хотите.
[48:46.240 --> 48:49.240]  То есть вот эта штука возвращает,
[48:49.240 --> 48:52.240]  хочу обработать, не хочу обработать.
[48:52.240 --> 48:56.240]  Если не хочу, то оно пробрастывается на уровень выше,
[48:56.240 --> 48:59.240]  и там ищется блок try,
[48:59.240 --> 49:01.240]  вызывается у него except,
[49:01.240 --> 49:03.240]  пока оно не раскрутится до конца,
[49:03.240 --> 49:06.240]  если оно раскрутилось до конца и нет желающих,
[49:06.240 --> 49:09.240]  ну, пора заканчивать это приложение,
[49:09.240 --> 49:11.240]  оно не обработало исключение.
[49:11.240 --> 49:14.240]  Если вы говорите, что вы хотите обработать его,
[49:14.240 --> 49:17.240]  то вот здесь вы пишете произвольный код,
[49:17.240 --> 49:20.240]  и дальше исполнение вашей программы
[49:20.240 --> 49:22.240]  продолжается как обычно.
[49:22.240 --> 49:25.240]  Это дико удобно, например,
[49:25.240 --> 49:27.240]  когда вы работаете с файлами,
[49:27.240 --> 49:29.240]  отображаемыми в память.
[49:29.240 --> 49:32.240]  Проблема файлов, отображаемых в память,
[49:32.240 --> 49:35.240]  если они оказались короче, чем вы рассчитывали,
[49:35.240 --> 49:40.240]  то вы покрашились с обращением к несуществующей памяти.
[49:41.240 --> 49:45.240]  А через этот механизм вы работаете здесь
[49:45.240 --> 49:47.240]  с файлом, отображаемым в память,
[49:47.240 --> 49:49.240]  и вообще не паритесь,
[49:49.240 --> 49:51.240]  если вы покрашились, то вы оказываетесь здесь,
[49:51.240 --> 49:54.240]  вы понимаете, ну, файл был короче.
[49:54.240 --> 49:57.240]  И дальше работаете как обычно,
[49:57.240 --> 50:00.240]  то есть это не какой-то такой фатальный краш,
[50:00.240 --> 50:02.240]  из которого нормально не восстановиться,
[50:02.240 --> 50:05.240]  это довольно цивилизованный go to,
[50:05.240 --> 50:07.240]  вот сюда вот просто,
[50:07.240 --> 50:09.240]  из того места, где его покрашились, вот сюда.
[50:09.240 --> 50:13.240]  Ну, конечно, выживаемость всяких там плюсовых объектов,
[50:13.240 --> 50:17.240]  этих деструкторов и прочее вам никто особо не обещает,
[50:17.240 --> 50:19.240]  насколько я помню, это нужно читать,
[50:19.240 --> 50:22.240]  но вы как бы и не хотите заниматься такой фигней
[50:22.240 --> 50:25.240]  в том месте, где вы рассчитываете,
[50:25.240 --> 50:28.240]  что у вас код может покрашиться
[50:28.240 --> 50:31.240]  по обращению к несуществующей памяти.
[50:31.240 --> 50:33.240]  То есть если у вас есть такой,
[50:33.240 --> 50:38.240]  не ресурсовыделяющий код,
[50:39.240 --> 50:42.240]  то оно работает прям зашибись.
[50:42.240 --> 50:46.240]  Этот механизм try-exert прям шикарный.
[50:46.240 --> 50:50.240]  Ну и вроде бы в стандарте ничего по этому поводу нет,
[50:50.240 --> 50:52.240]  не ожидается, и блин, я все не знаю,
[50:52.240 --> 50:54.240]  есть ли какой-то аналог.
[50:54.240 --> 50:57.240]  То есть да, есть какие-то магические сигналы,
[50:57.240 --> 51:01.240]  но, как я понял, сигналы — это дорога в один конец.
[51:01.240 --> 51:04.240]  Типа максимум, что вы можете узнать,
[51:04.240 --> 51:06.240]  ну, вы упали, поздравляю.
[51:06.240 --> 51:08.240]  Вернуться обратно...
[51:08.240 --> 51:11.240]  С этим платят можно вернуться обратно.
[51:11.240 --> 51:12.240]  Цивилизованно?
[51:12.240 --> 51:14.240]  Цивилизованно — нет.
[51:14.240 --> 51:16.240]  Вот, а здесь абсолютно цивилизованно.
[51:16.240 --> 51:19.240]  То есть здесь — это просто
[51:19.240 --> 51:21.240]  отсюда сюда,
[51:21.240 --> 51:23.240]  и потом обычное исполнение программы.
[51:30.240 --> 51:33.240]  Потом, если вы опуститесь на уровень ниже,
[51:33.240 --> 51:35.240]  на уровень ассемблера,
[51:35.240 --> 51:37.240]  и вот эту конструкцию на осмелализуете,
[51:38.240 --> 51:42.240]  то легко даже сделать более мощную конструкцию.
[51:42.240 --> 51:49.240]  А именно вот здесь вот вам передают контекст.
[51:49.240 --> 51:53.240]  Контекст — это вот состояние процессора.
[51:53.240 --> 51:55.240]  То есть состояние регистров.
[51:55.240 --> 51:57.240]  И вы можете даже сказать,
[51:57.240 --> 52:00.240]  что я хочу вернуться прям обратно
[52:00.240 --> 52:04.240]  в то место, откуда оно упало.
[52:04.240 --> 52:08.240]  То есть, например, вы там что-нибудь память сюда выделили,
[52:08.240 --> 52:11.240]  и вернулись ровно в то место,
[52:11.240 --> 52:14.240]  где случилась падение.
[52:16.240 --> 52:19.240]  По Парвиндое оно пишется прям
[52:19.240 --> 52:23.240]  без каких-то страданий, мучений.
[52:24.240 --> 52:28.240]  На психическом уровне вы обычно так не хотите,
[52:28.240 --> 52:31.240]  а на уровне асмала можно.
[52:31.240 --> 52:33.240]  Таким же образом можно защищаться
[52:33.240 --> 52:36.240]  от того, что вам там кто-то стэк порушил
[52:36.240 --> 52:38.240]  или еще чего-нибудь.
[52:38.240 --> 52:43.240]  Я вот писал прогу с поддержкой плагинов,
[52:43.240 --> 52:46.240]  притом не моих плагинов, а чужих плагинов.
[52:46.240 --> 52:51.240]  И эти штуки иногда занимались неприличными вещами.
[52:51.240 --> 52:53.240]  Там что-нибудь крашилось,
[52:53.240 --> 52:56.240]  стэк куда-то вылетал к чертям.
[52:56.240 --> 53:00.240]  И я написал вот подобную конструкцию,
[53:00.240 --> 53:03.240]  которая воскрешала процесс
[53:03.240 --> 53:06.240]  в 99% случаев.
[53:06.240 --> 53:08.240]  То есть если там, конечно, оно убежало
[53:08.240 --> 53:10.240]  и вам всю память попортило,
[53:10.240 --> 53:12.240]  здесь уже ничего не сделаете.
[53:12.240 --> 53:14.240]  Но если оно просто куда-то вылезло
[53:14.240 --> 53:16.240]  на чтение за память,
[53:16.240 --> 53:18.240]  то можно аккуратненько,
[53:18.240 --> 53:21.240]  зная, где у вас там был стэкпоинтер,
[53:21.240 --> 53:24.240]  зная, какие у вас были
[53:24.240 --> 53:26.240]  сохраняемые регистры,
[53:26.240 --> 53:29.240]  сохранить это перед опасным кодом.
[53:29.240 --> 53:31.240]  И если он покрашился,
[53:31.240 --> 53:33.240]  аккуратно восстановить
[53:33.240 --> 53:35.240]  и продолжить работу.
[53:35.240 --> 53:38.240]  Ну, максимально цивилизованно
[53:38.240 --> 53:39.240]  после такого события,
[53:39.240 --> 53:42.240]  как падение в чужом коде.
[53:42.240 --> 53:44.240]  Нет, но такое можно и на инопсисе делать,
[53:44.240 --> 53:47.240]  даже через сигналы.
[53:47.240 --> 53:50.240]  Потому что чужой код у тебя там порушил стэк.
[53:50.240 --> 53:51.240]  Да.
[53:51.240 --> 53:53.240]  И ты возвращаешь свой стэк,
[53:53.240 --> 53:54.240]  свое исходное состояние,
[53:54.240 --> 53:55.240]  продолжаешь работать?
[53:55.240 --> 53:56.240]  Да.
[53:56.240 --> 53:57.240]  Ну, окей.
[53:57.240 --> 53:59.240]  Я просто не знаю, как это сделать.
[53:59.240 --> 54:03.240]  Ну, просто нужно усвоить инопсис.
[54:03.240 --> 54:05.240]  Что для него это делается?
[54:05.240 --> 54:08.240]  Вот, через этот механизм и оно работает.
[54:08.240 --> 54:10.240]  Вернее, это механизм,
[54:10.240 --> 54:12.240]  как он выглядит со стороны Си.
[54:12.240 --> 54:15.240]  На Си он выглядит как что-нибудь другое.
[54:15.240 --> 54:17.240]  И в планке, по-моему, он очень хорошо держится.
[54:17.240 --> 54:18.240]  В смысле, поддерживается?
[54:18.240 --> 54:19.240]  Поддерживается.
[54:19.240 --> 54:20.240]  Потому что низкий наш ум.
[54:20.240 --> 54:22.240]  Ну, я РСЦ так вижу.
[54:22.240 --> 54:23.240]  Ну, да.
[54:23.240 --> 54:25.240]  Ниссан то же самое умеет.
[54:29.240 --> 54:31.240]  Слушай, тогда почему он
[54:31.240 --> 54:33.240]  и жизнеспособен,
[54:33.240 --> 54:35.240]  потому что он имеет вот такие штуки,
[54:35.240 --> 54:36.240]  которые, конечно,
[54:36.240 --> 54:37.240]  код под Венду использует
[54:37.240 --> 54:38.240]  в продвижении.
[54:38.240 --> 54:39.240]  Потому что он может.
[54:39.240 --> 54:40.240]  Так.
[54:40.240 --> 54:41.240]  Это у нас была всякая
[54:41.240 --> 54:42.240]  простая арифметика.
[54:42.240 --> 54:43.240]  А теперь все-таки интересные штуки.
[54:43.240 --> 54:44.240]  Что у нас есть?
[54:44.240 --> 54:45.240]  У нас есть команда
[54:45.240 --> 54:46.240]  rcd.
[54:46.240 --> 54:47.240]  rcd.
[54:47.240 --> 54:48.240]  rcd.
[54:48.240 --> 54:49.240]  rcd.
[54:49.240 --> 54:50.240]  rcd.
[54:50.240 --> 54:51.240]  rcd.
[54:51.240 --> 54:52.240]  rcd.
[54:52.240 --> 54:53.240]  rcd.
[54:53.240 --> 54:54.240]  rcd.
[54:54.240 --> 54:55.240]  rcd.
[54:55.240 --> 54:56.240]  rcd.
[54:56.240 --> 54:57.240]  rcd.
[54:57.240 --> 54:58.240]  rcd.
[54:58.240 --> 54:59.240]  rcd.
[54:59.240 --> 55:00.240]  rcd.
[55:00.240 --> 55:01.240]  rcd.
[55:01.240 --> 55:02.240]  rcd.
[55:02.240 --> 55:03.240]  rcd.
[55:03.240 --> 55:04.240]  rcd.
[55:04.240 --> 55:05.240]  rcd.
[55:05.240 --> 55:06.240]  rcd.
[55:06.240 --> 55:07.240]  rcd.
[55:07.240 --> 55:08.240]  rcd.
[55:08.240 --> 55:09.240]  rcd.
[55:09.240 --> 55:10.240]  rcd.
[55:10.240 --> 55:11.240]  rcd.
[55:11.240 --> 55:12.240]  rcd.
[55:12.240 --> 55:13.240]  rcd.
[55:13.240 --> 55:14.240]  rcd.
[55:14.240 --> 55:15.240]  rcd.
[55:15.240 --> 55:16.240]  rcd.
[55:16.240 --> 55:17.240]  rcd.
[55:17.240 --> 55:18.240]  rcd.
[55:18.240 --> 55:19.240]  rcd.
[55:19.240 --> 55:20.240]  rcd.
[55:20.240 --> 55:21.240]  rcd.
[55:21.240 --> 55:22.240]  rcd.
[55:22.240 --> 55:23.240]  rcd.
[55:23.240 --> 55:24.240]  rcd.
[55:24.240 --> 55:25.240]  rcd.
[55:25.240 --> 55:26.240]  rcd.
[55:26.240 --> 55:27.240]  rcd.
[55:27.240 --> 55:28.240]  rcd.
[55:28.240 --> 55:29.240]  rcd.
[55:29.240 --> 55:30.240]  rcd.
[55:30.240 --> 55:31.240]  rcd.
[55:31.240 --> 55:32.240]  rcd.
[55:32.240 --> 55:33.240]  rcd.
[55:33.240 --> 55:44.340]  эти остатки путем вычитания из вершины ST1 до 64 раз.
[55:45.340 --> 55:50.900]  Если в процессе вычитания оно стало меньше, чем ST1,
[55:51.340 --> 55:53.160]  то мы нашли остаток антиреида.
[55:55.040 --> 55:57.820]  Возьмите, что это происходит число с плавающей точкой.
[55:57.820 --> 56:02.560]  То есть такой вещественный остаток антиреида.
[56:03.240 --> 56:07.860]  Если за 64 вычитания оно меньше не стало,
[56:08.260 --> 56:11.540]  то оно отчаивается и перестает дальше вычитать.
[56:12.760 --> 56:14.200]  Но результат вычитания сохраняется.
[56:16.960 --> 56:21.080]  Вот такая немножко странная инструкция.
[56:21.780 --> 56:24.760]  Кто может догадаться, где она может иметь смысл?
[56:31.500 --> 56:32.380]  Действительно,
[56:32.380 --> 56:34.960]  это, скажем честно, странновато.
[56:40.160 --> 56:41.040]  Пригнавет.
[56:42.140 --> 56:49.200]  Если вы хотите вернуться в диапазон, например, от 0 до 2π,
[56:50.820 --> 56:54.140]  но вы можете потенциально за него немножко вылезти,
[56:55.580 --> 56:58.460]  то это, в принципе, очень похоже на то, что вы хотите.
[56:58.460 --> 57:01.860]  Если число отрицательное, то вы разумеете.
[57:02.380 --> 57:04.380]  Я не помню.
[57:04.380 --> 57:06.380]  Я знаю, что такое есть.
[57:06.380 --> 57:08.380]  Сам я ее ни разу не использовал.
[57:08.380 --> 57:16.380]  То есть, как она себя ведет конкретно в таких случаях, откройте документацию.
[57:16.380 --> 57:20.380]  В документации там еще псевдокод обычно есть.
[57:22.380 --> 57:29.380]  Но если текстное описание вдруг непонятно, по псевдокоду можно догадаться происходящее.
[57:32.380 --> 57:41.380]  Еще раз, там вот есть две команды fpm и fpm1, которые, по-моему, по-разному округляют.
[57:41.380 --> 57:46.380]  Может, как раз отличие в том, как они обрабатывают официальное обеспечение.
[57:52.380 --> 57:53.380]  Что, пишет?
[57:53.380 --> 57:55.380]  Ну, честно говоря, не пишет.
[57:55.380 --> 57:57.380]  Нет, оно пытается, но...
[57:57.380 --> 57:59.380]  Это написано чуть-чуть сюда.
[57:59.380 --> 58:00.380]  Хорошо.
[58:00.380 --> 58:01.380]  Ну, не очень честно.
[58:01.380 --> 58:02.380]  Честно говоря, не очень честно.
[58:02.380 --> 58:04.380]  Сейчас все-таки пустяк это сетится.
[58:05.380 --> 58:06.380]  Путин читает.
[58:06.380 --> 58:11.380]  Он ушел немного в разные секстрения.
[58:11.380 --> 58:14.380]  Вот теперь сразу сексконный бар shortened.
[58:14.380 --> 58:16.380] 欢ел бы перейти к...
[58:16.380 --> 58:19.380]  Вот тут 50 выходит, и, по-моему, час на телевидение.
[58:19.380 --> 58:21.380]  Ну, в виде поиска вычитается 15-40 тысяч фонарей.
[58:21.380 --> 58:25.380]  Ну, ничего там было про фразы.
[58:26.380 --> 58:27.380]  Зачитано 10-20.
[58:27.380 --> 58:28.380]  Вот.
[58:28.380 --> 58:48.140]  вот эта штука пытается найти некий остаток отдельно но что есть дальше из
[58:48.140 --> 59:08.000]  команд до всех прием уже команды без отрубят ст0 и ничего вы ей сказать
[59:18.140 --> 59:20.360]  у нас есть команда
[59:20.360 --> 59:38.720]  модуль часа как вы можете догадаться никаких аргументов потому что она
[59:38.720 --> 59:44.760]  работает с вершиной дальше есть
[59:44.760 --> 59:46.680]  с
[59:48.140 --> 59:59.380]  делаем челлендж сайт меня и знак числа на пути положено и есть еще
[59:59.380 --> 01:00:01.380]  и
[01:00:03.820 --> 01:00:17.340]  которая чуть не а у дома это право это округление числа до целого с каким
[01:00:17.340 --> 01:00:17.840]  режимом
[01:00:17.840 --> 01:00:18.080]  и
[01:00:18.080 --> 01:00:18.120]  и
[01:00:18.120 --> 01:00:18.620] ,
[01:00:18.620 --> 01:00:27.460]  да какой ваша тишина умение то есть по депуту эта штука будет округлять
[01:00:27.460 --> 01:00:42.320]  ближайшему четному что у нас есть еще у нас есть набор команд сравнения со
[01:00:42.320 --> 01:00:48.060]  сравнением там несколько заморочено вы хотите использовать вот такие команды
[01:00:48.060 --> 01:01:05.220]  В ком И, возможно, в П.
[01:01:06.800 --> 01:01:11.260]  Там есть несколько разных вариаций по команде сравнения,
[01:01:11.260 --> 01:01:16.140]  и особенность заключается в том, что вообще делают команды сравнения.
[01:01:18.060 --> 01:01:20.180]  Да, флаги ставят.
[01:01:20.840 --> 01:01:27.300]  Так вот, как вы думаете, какие флаги ставят команды сравнения сопроцессоров?
[01:01:28.520 --> 01:01:30.520]  Флаги сопроцессора, правильно.
[01:01:31.500 --> 01:01:35.920]  Поэтому, чтобы на основе них сделать там какой-нибудь условный переход,
[01:01:35.920 --> 01:01:41.200]  вам нужно эти флаги сопроцессора переслать на процессор,
[01:01:41.500 --> 01:01:44.280]  а потом загрузить их во флаги.
[01:01:44.520 --> 01:01:46.880]  То есть вам нужно сделать еще две команды.
[01:01:48.060 --> 01:01:50.060]  Это вот исходные команды сравнения.
[01:01:50.820 --> 01:01:55.160]  А эти, по-моему, времена Pentium и Pro добавили вот эту форму,
[01:01:55.940 --> 01:02:00.220]  которая сравнивает и сразу вам ставит в флаги процессора.
[01:02:01.180 --> 01:02:04.980]  То есть вот с этой формой сравнения вам не надо париться о том,
[01:02:04.980 --> 01:02:08.980]  чтобы пересылать флаги туда-сюда, сразу поставить нужный флаги.
[01:02:11.120 --> 01:02:12.560]  Какие особенности?
[01:02:13.980 --> 01:02:17.980]  Флаги ставятся так, как работает данная.
[01:02:18.060 --> 01:02:20.060]  Это беззнаковое сравнение.
[01:02:20.060 --> 01:02:26.060]  То есть для того, чтобы проверить, что первый аргумент был меньше, чем второй,
[01:02:26.060 --> 01:02:30.060]  вам нужно делать какое условие?
[01:02:32.060 --> 01:02:34.060]  Первый меньше, чем второй.
[01:02:36.060 --> 01:02:38.060]  Но в теории надо ставить...
[01:02:38.060 --> 01:02:42.060]  Либо у нас многие туда, там уменьшены уголки.
[01:02:42.060 --> 01:02:43.060]  Нет, нет, нет.
[01:02:43.060 --> 01:02:45.060]  Сделай команду сравнения.
[01:02:46.060 --> 01:02:47.060]  Я вам сказал.
[01:02:47.060 --> 01:02:48.060]  Она ставит флаги.
[01:02:48.060 --> 01:02:51.060]  Флаги по правилам беззнакового сравнения.
[01:02:53.060 --> 01:02:54.060]  Меньше.
[01:02:59.060 --> 01:03:03.060]  То есть, еще раз, сравнение, оно есть знаковое и беззнаковое.
[01:03:04.060 --> 01:03:09.060]  B – это below, меньше в беззнаковом смысле.
[01:03:10.060 --> 01:03:15.060]  А L – это less, меньше, но в знаковом смысле.
[01:03:15.060 --> 01:03:23.060]  Так вот, сравнение сопроцессорное, число это там со знаком,
[01:03:23.060 --> 01:03:30.060]  но флаги ставятся аналогично беззнаковому сравнению на процессоре.
[01:03:30.060 --> 01:03:34.060]  То есть, когда вы перешлете вот эти флаги сопроцессора во флаги процессора,
[01:03:34.060 --> 01:03:37.060]  ручками или автоматически вот этими командами,
[01:03:37.060 --> 01:03:41.060]  вам нужно делать условие как беззнаковое.
[01:03:45.060 --> 01:03:53.060]  Да, и вершину вы можете выкинуть после сравнения.
[01:03:53.060 --> 01:04:02.060]  То есть, есть форма com.i.p, которая вершину после сравнения сделает pop.
[01:04:02.060 --> 01:04:06.060]  Копия сайт визит?
[01:04:06.060 --> 01:04:09.060]  Ой, что-то не помню.
[01:04:09.060 --> 01:04:12.060]  Так, это еще есть без i.
[01:04:12.060 --> 01:04:13.060]  Да, да, я сказал.
[01:04:13.060 --> 01:04:14.060]  Там есть несколько вариантов.
[01:04:14.060 --> 01:04:20.060]  Вот, которые без i на конце, они ставят флаги сопроцессора.
[01:04:20.060 --> 01:04:27.060]  И вам еще нужно их выковыривать оттуда, чтобы перестать во флаги процессора.
[01:04:27.060 --> 01:04:31.060]  Вы, конечно, не хотите обычно заниматься такими страданиями.
[01:04:31.060 --> 01:04:34.060]  И у вас есть команда, которая делает сразу то, что надо.
[01:04:34.060 --> 01:04:36.060]  Это вот в com.i.
[01:04:36.060 --> 01:04:41.060]  Почему тогда у обычного com есть команда, где два раза могут делать?
[01:04:41.060 --> 01:04:42.060]  Вот я понимаю.
[01:04:42.060 --> 01:04:44.060]  Но вот нет здесь такой команды.
[01:04:44.060 --> 01:04:49.060]  Почему нет такой формы?
[01:04:49.060 --> 01:04:51.060]  Ну, это понятный вопрос для меня.
[01:04:51.060 --> 01:04:59.060]  То есть, вот еще раз обратите внимание.
[01:04:59.060 --> 01:05:06.060]  Вы хотите, если используете сравнение, использовать вот эту форму, чтобы получить сразу флаги, где надо.
[01:05:06.060 --> 01:05:11.060]  Дальше.
[01:05:11.060 --> 01:05:12.060]  Раз.
[01:05:12.060 --> 01:05:13.060]  Есть.
[01:05:13.060 --> 01:05:18.060]  fsqrt.
[01:05:18.060 --> 01:05:20.060]  Корень квадратный.
[01:05:20.060 --> 01:05:36.060]  Дальше у нас есть fsin, fcos.
[01:05:36.060 --> 01:05:39.060]  Синус косинус.
[01:05:39.060 --> 01:05:42.060]  Прям в тригонометрии одной команды.
[01:05:43.060 --> 01:05:55.060]  И у вас даже есть, сколько я помню, fsyncos.
[01:05:55.060 --> 01:05:59.060]  Которая довольно необычная команда.
[01:05:59.060 --> 01:06:05.060]  Она снимает со стека один аргумент, а пушит на стек два аргумента.
[01:06:05.060 --> 01:06:11.060]  Снимает аргумент, считает его и синус, и косинус.
[01:06:11.060 --> 01:06:13.060]  Вопрос. Кто знает, зачем?
[01:06:13.060 --> 01:06:15.060]  Ну, потому что часто бывает...
[01:06:15.060 --> 01:06:17.060]  Потому что я про это знаю.
[01:06:17.060 --> 01:06:19.060]  Нет.
[01:06:19.060 --> 01:06:33.060]  Потому что, когда вы считаете синус, то алгоритм вычисления синуса и косинуса, он вообще прям одинаковый.
[01:06:33.060 --> 01:06:38.060]  Но вы в конце, из ваших промежуточных результатов,
[01:06:38.060 --> 01:06:41.060]  в зависимости от того, в какую четверть вы там попали,
[01:06:41.060 --> 01:06:44.060]  выбираете одно значение или другое.
[01:06:44.060 --> 01:06:51.060]  То есть, синус от косинуса вычислительный отличается только ифом в конце.
[01:06:51.060 --> 01:07:01.060]  Поэтому, fsyncos это замечательная команда, которая дает вам синус и косинус по цене одного из них.
[01:07:01.060 --> 01:07:07.060]  И в языках высокого уровня тоже встречается.
[01:07:08.060 --> 01:07:12.060]  fsyncos это команда, которая считает вам синус и косинус.
[01:07:12.060 --> 01:07:20.060]  И смысл ее, что вы получаете оба значения по цене одного из них.
[01:07:20.060 --> 01:07:30.060]  Компиляторы иногда пытаются смержить, если вы там написали синус и косинус, в fsyncos.
[01:07:30.060 --> 01:07:36.060]  Ну, конечно, насколько компиляторы способны это смержить, это большой вопрос.
[01:07:36.060 --> 01:07:37.060]  Пытаться пытаются.
[01:07:37.060 --> 01:07:40.060]  Удачно-неудачно уже надо смотреть.
[01:07:40.060 --> 01:07:47.060]  Используются комплексные числа как пара двух на st0 и st1?
[01:07:47.060 --> 01:07:49.060]  Вот это не знаю.
[01:07:49.060 --> 01:07:51.060]  Мне кажется, нет.
[01:07:51.060 --> 01:07:53.060]  Просто, по-моему, у GCC...
[01:07:53.060 --> 01:07:56.060]  Нет, у GCC, конечно, может быть.
[01:07:56.060 --> 01:07:59.060]  Его личная гссшная какая-то штука.
[01:07:59.060 --> 01:08:05.060]  Но чтобы вот так прям договорились, чего-то я не слышал.
[01:08:07.060 --> 01:08:09.060]  То есть не уверен.
[01:08:09.060 --> 01:08:11.060]  Я не скажу, что нет, прям.
[01:08:11.060 --> 01:08:17.060]  Но что-то я не слышал.
[01:08:17.060 --> 01:08:19.060]  Вот.
[01:08:19.060 --> 01:08:26.060]  Синус, косинус, синкос.
[01:08:26.060 --> 01:08:35.060]  Дальше у нас есть fp там.
[01:08:35.060 --> 01:08:46.060]  И, по-моему, fp артангенс.
[01:08:46.060 --> 01:08:57.060]  Это тангенс и артангенс.
[01:08:57.060 --> 01:08:59.060]  Почему p я не уверен.
[01:08:59.060 --> 01:09:01.060]  Частичный, потому что...
[01:09:01.060 --> 01:09:03.060]  Нет, оно...
[01:09:03.060 --> 01:09:10.060]  А, да, я вспомнил эту историю.
[01:09:10.060 --> 01:09:14.060]  Нет, там была такая заморочка,
[01:09:14.060 --> 01:09:21.060]  что эти команды выдавали вам немножко полуфабрикат.
[01:09:21.060 --> 01:09:25.060]  Они вам на стэк выдают два значения,
[01:09:25.060 --> 01:09:29.060]  которые, чтобы получить вот математический результат,
[01:09:29.060 --> 01:09:32.060]  вы должны одно поделить на другое.
[01:09:33.060 --> 01:09:38.060]  То есть, видимо, алгоритм заканчивается на деление,
[01:09:38.060 --> 01:09:43.060]  и они на этой команде деления в конце сэкономили исходно.
[01:09:43.060 --> 01:09:47.060]  Типа, если не нужно, можете не делить.
[01:09:47.060 --> 01:09:52.060]  Но уже довольно давно современные процессоры,
[01:09:52.060 --> 01:09:57.060]  по-моему, пушат вам правильный результат и единичку.
[01:09:57.060 --> 01:10:02.060]  То есть оно уже не частичное.
[01:10:03.060 --> 01:10:06.060]  Но в том же самом формате,
[01:10:06.060 --> 01:10:14.060]  которое совместимо со старинными канализациями.
[01:10:14.060 --> 01:10:17.060]  Вот, да, я вспомнил эту историю.
[01:10:17.060 --> 01:10:19.060]  Про арктангенс.
[01:10:19.060 --> 01:10:22.060]  Это единственная арк-функция.
[01:10:22.060 --> 01:10:24.060]  То есть если вы хотите понять арксинус,
[01:10:24.060 --> 01:10:30.060]  то его нужно будет считать через соответствующие тригонометрические формулы.
[01:10:30.060 --> 01:10:32.060]  Вроде они там к арктангенсу все и сводятся.
[01:10:32.060 --> 01:10:36.060]  Поэтому это небольшая проблема.
[01:10:36.060 --> 01:10:39.060]  Из интересного, арктангенс это то,
[01:10:39.060 --> 01:10:44.060]  что называется на языках высокого уровня атан-2.
[01:10:44.060 --> 01:10:47.060]  Кто-нибудь в курсе про арктангенс?
[01:10:47.060 --> 01:10:49.060]  Вот это который атан-2,
[01:10:49.060 --> 01:10:51.060]  кто-нибудь на самом деле хотите?
[01:10:51.060 --> 01:10:56.060]  Вот.
[01:10:56.060 --> 01:11:01.060]  То есть тригонометры существуют и выглядят прям,
[01:11:01.060 --> 01:11:03.060]  как будто бы дружелюбные.
[01:11:03.060 --> 01:11:05.060]  Еще раз, есть атан-2 или?
[01:11:05.060 --> 01:11:08.060]  Этот атан, это и есть атан-2.
[01:11:08.060 --> 01:11:09.060]  А, то есть он был тоже, да?
[01:11:09.060 --> 01:11:11.060]  Да.
[01:11:11.060 --> 01:11:12.060]  Форменты?
[01:11:12.060 --> 01:11:13.060]  Он называется просто атан,
[01:11:13.060 --> 01:11:23.060]  но это аналог того, что называется атан-2 на языках высокого уровня.
[01:11:23.060 --> 01:11:29.060]  Дальше у нас есть команды f.
[01:11:31.060 --> 01:11:41.060]  int, stp, f, dec, stp.
[01:11:41.060 --> 01:11:45.060]  Без аргументов, которые просто двигают стекпоинты.
[01:11:45.060 --> 01:11:49.060]  Обратите внимание, просто двигают стекпоинты.
[01:11:49.060 --> 01:11:53.060]  Не трогают флаги занятости, свободности.
[01:11:53.060 --> 01:11:58.060]  То есть int, stp, это не поп со стека.
[01:11:58.060 --> 01:12:01.060]  Это просто переместить сюда,
[01:12:01.060 --> 01:12:07.060]  а эта ячейка так и остается занятой, если она была занята.
[01:12:07.060 --> 01:12:11.060]  Просто крутит указательское.
[01:12:11.060 --> 01:12:18.060]  Дальше у вас есть команда f free.
[01:12:18.060 --> 01:12:23.060]  f free помечает указанный регистр как свободный.
[01:12:23.060 --> 01:12:28.060]  То есть, например, вы можете сказать f free st3.
[01:12:28.060 --> 01:12:31.060]  И оно пометит st3 как незанятый.
[01:12:31.060 --> 01:12:38.060]  Дальше у вас есть команда f free.
[01:12:38.060 --> 01:12:40.060]  Итак, мы этим делаем.
[01:12:40.060 --> 01:12:42.060]  Если ты его пишешь, то все хорошо.
[01:12:42.060 --> 01:12:44.060]  Если ты его читаешь, то ты читаешь нам.
[01:12:44.060 --> 01:12:53.060]  Ну и, конечно, есть всеми любимая команда.
[01:12:53.060 --> 01:12:59.060]  Ну, где вы можете ничего не делать.
[01:12:59.060 --> 01:13:23.060]  Вот это такой базовый набор команд сопроцессора, не все, но достаточный для того, чтобы вы получили общее впечатление и смогли что-нибудь посчитать.
[01:13:23.060 --> 01:13:32.060]  Давайте посчитаем что-нибудь и почувствуем, как это считать у нас в процессе.
[01:13:53.060 --> 01:14:02.060]  Итак, вам нужно написать функцию, которая считает следующее.
[01:14:19.060 --> 01:14:21.620]  Вот такой ряд.
[01:14:23.060 --> 01:14:26.060]  У кого хорошо с Матаном, что за ряд?
[01:14:44.060 --> 01:14:49.060]  Давайте все подряд вспомним Матану.
[01:14:51.060 --> 01:14:53.060]  Просто это должно быть.
[01:14:54.060 --> 01:15:00.060]  Это Архтаунгенс.
[01:15:02.060 --> 01:15:04.060]  Это Архтаунгенс.
[01:15:04.060 --> 01:15:07.060]  И это ряд Тейлора.
[01:15:07.060 --> 01:15:10.060]  Ну кто совсем крутой?
[01:15:10.060 --> 01:15:13.060]  С какими диапазонами сходимости?
[01:15:21.060 --> 01:15:22.060]  Да.
[01:15:23.060 --> 01:15:28.060]  То есть от минус единицы до единицы.
[01:15:28.060 --> 01:15:34.060]  Обратите внимание, что Архтаунгенс может легко иметь аргументы больше единицы.
[01:15:34.060 --> 01:15:45.060]  Так вот, если вы накормите больше единицы этот ряд, вы получите минусов, потому что это не его диапазон сходимости.
[01:15:45.060 --> 01:15:51.060]  То есть допустимый диапазон иксов плюс-минус один.
[01:15:51.060 --> 01:15:54.060]  Выдите сам дробь.
[01:15:54.060 --> 01:16:00.060]  Ну и давайте функцию...
[01:16:00.060 --> 01:16:02.060]  Он именно носорг кинет или нам?
[01:16:02.060 --> 01:16:03.060]  Что?
[01:16:03.060 --> 01:16:04.060]  Он именно носорг кинет или нам?
[01:16:04.060 --> 01:16:06.060]  Он не кинет и никакой нам.
[01:16:06.060 --> 01:16:09.060]  Но у тебя ряд разойдется.
[01:16:09.060 --> 01:16:13.060]  То есть ты валишься в бесконечность.
[01:16:13.060 --> 01:16:19.060]  И вполне возможно, твоя бесконечность...
[01:16:19.060 --> 01:16:24.060]  Возможно, твоя бесконечность, она еще случится с разными знаками.
[01:16:24.060 --> 01:16:27.060]  И ты можешь и в нам, да.
[01:16:27.060 --> 01:16:32.060]  После вот этой бесконечности разных знаков отправиться в нам.
[01:16:32.060 --> 01:16:37.060]  Соответственно, у вас функция возвращает флот.
[01:16:37.060 --> 01:16:46.060]  Принимает флот икс и м.
[01:16:46.060 --> 01:16:48.060]  Где м это количество страданий.
[01:16:48.060 --> 01:16:50.060]  Количество и степень.
[01:16:50.060 --> 01:16:51.060]  Количество.
[01:16:51.060 --> 01:17:06.060]  В принципе, без разницы, но удобнее 32 бита, потому что там эта конвенция зашита.
[01:17:06.060 --> 01:17:11.060]  Из 4 битов у вас будут проблемы, потому что вы еще не знаете про икс и нам.
[01:17:11.060 --> 01:17:13.060]  И вы аргумент не прочитаете.
[01:17:13.060 --> 01:17:15.060]  Зашита.
[01:17:15.060 --> 01:17:16.060]  Зашита.
[01:17:16.060 --> 01:17:17.060]  Зашита.
[01:17:17.060 --> 01:17:19.060]  Зашита.
[01:17:19.060 --> 01:17:20.060]  Поэтому, да, давайте трясти на лобридный код.
[01:17:20.060 --> 01:17:28.060]  Функции принимает икс и икс м.
[01:17:28.060 --> 01:17:33.060]  И нужно посчитать, вот, a tangles через v, m.
[01:17:33.060 --> 01:17:44.060]  Притом, мы не просто пишем, а еще попытаемся что-то там соптимизировать на скорости.
[01:17:44.060 --> 01:17:45.060]  И будем браться.
[01:17:45.060 --> 01:17:46.060]  Бежим.
[01:17:46.060 --> 01:17:55.400]  И будем даже использовать этот код в будущем, когда рассмотрим SSR.
[01:17:56.300 --> 01:17:59.260]  Другой вариант работы с численностью, с клавишей точкой.
[01:18:00.260 --> 01:18:05.060]  Вот мы будем сравнивать то, что мы там напишем, с тем, что здесь.
[01:18:06.080 --> 01:18:14.160]  Поэтому не ленитесь, напишите как можно лучше, а потом попытайтесь фактинизировать.
[01:18:14.160 --> 01:18:16.140]  На что обратить внимание?
[01:18:16.780 --> 01:18:21.820]  На то, что вы, во-первых, должны сразу спонсировать не совсем тупой алгоритм.
[01:18:24.000 --> 01:18:26.560]  Где здесь можно сделать большую глупость?
[01:18:30.280 --> 01:18:36.200]  Да, считать степень заново, это глупость, которую вы делать не хотите.
[01:18:38.400 --> 01:18:39.560]  Вы хотите...
[01:18:44.160 --> 01:18:46.200]  Вы не обрадовались, подумайте, в общем, полезно.
[01:18:48.620 --> 01:18:53.600]  Вы хотите поактимальнее посчитать вот такой ряд.
[01:18:55.600 --> 01:19:08.400]  И, во-первых, вы думаете, во-вторых, вы планируете, что у вас в каком месте лежит на стеке,
[01:19:09.600 --> 01:19:13.080]  и только потом вы начинаете писать код.
[01:19:14.160 --> 01:19:19.660]  Потому что если вы не делаете так, то вы код можете переписывать сотню раз.
[01:19:26.660 --> 01:19:33.520]  На вершине стейка процессора должно остаться единственное число,
[01:19:34.240 --> 01:19:37.400]  которое является результатом твоего числения.
[01:19:44.160 --> 01:19:48.620]  Ну и у вас есть простое значение, чтобы проверить правильность.
[01:19:49.720 --> 01:19:54.460]  Если х равен единице, то чему равен артангелс?
[01:20:01.460 --> 01:20:04.160]  Ну, соотношение кальциев один к одному.
[01:20:04.160 --> 01:20:06.320]  У нас же такой угол.
[01:20:07.740 --> 01:20:08.760]  Значит, я считаю.
[01:20:09.200 --> 01:20:10.400]  Да, и четвертый.
[01:20:11.220 --> 01:20:13.160]  То есть если вы результат умножите...
[01:20:14.160 --> 01:20:18.660]  4 для аргумента 1, в смысле х1,
[01:20:19.920 --> 01:20:22.720]  то вы должны получить число, похожее на π,
[01:20:22.720 --> 01:20:28.720]  и тем более похожее, чем больше вы посчитаете слагаемых.
[01:20:31.120 --> 01:20:35.860]  Но это не суперхороший аргумент для проверки,
[01:20:36.420 --> 01:20:40.940]  потому что он не будет проверять, насколько вы правильно в степени плановозводили.
[01:20:42.500 --> 01:20:43.720]  Так что то, что у вас получилось...
[01:20:44.160 --> 01:20:46.360]  То есть и на четвертых, это только шаг номер один.
[01:20:47.780 --> 01:20:50.220]  И еще хорошо проверить с ненулевым х.
[01:20:51.620 --> 01:20:54.260]  Например, там, одна вторая, или что-нибудь такое,
[01:20:55.040 --> 01:20:56.920]  что вы со степенью не напрашиваете.
[01:20:58.500 --> 01:21:02.080]  То есть х1 проверяет, что у вас в целом ряд работает,
[01:21:02.880 --> 01:21:04.840]  несмотря на возведение степени.
[01:21:06.480 --> 01:21:09.760]  Вы нужно какое-то значение, по-моему, меньше, чем 1,
[01:21:10.820 --> 01:21:13.280]  для того, чтобы проверить, что вы...
[01:21:14.160 --> 01:21:15.980]  Степень тоже правильная, в целом.
[01:21:18.980 --> 01:21:19.820]  Что значит?
[01:21:19.820 --> 01:21:20.640]  Что значение?
[01:21:21.180 --> 01:21:21.940]  Вещь, что вы видите?
[01:21:23.220 --> 01:21:24.300]  Что же вы видите?
[01:21:25.460 --> 01:21:27.660]  Ну, тоже не очень.
[01:21:29.260 --> 01:21:32.800]  Это кондиция в течении многочисленных степеней.
[01:21:32.960 --> 01:21:33.080]  Да.
[01:21:33.740 --> 01:21:35.080]  Просто боюсь, что вы не видите.
[01:21:35.340 --> 01:21:35.580]  Да.
[01:21:36.540 --> 01:21:36.940]  Восемь.
[01:21:37.780 --> 01:21:38.220]  Нет.
[01:21:38.780 --> 01:21:39.480]  Я вам сказал.
[01:21:40.180 --> 01:21:40.740]  Плод.
[01:21:41.740 --> 01:21:42.500]  Это да.
[01:21:44.160 --> 01:21:44.440]  Открыл.
[01:21:51.480 --> 01:21:52.640]  Ещё один холодное.
[01:21:52.940 --> 01:21:54.040]  Ну, давайте, тебя вам.
[01:22:04.460 --> 01:22:05.400]  Там.
[01:22:06.420 --> 01:22:06.760]  Там.
[01:22:08.800 --> 01:22:09.280]  В共 f1.
[01:22:11.060 --> 01:22:12.140]  Что было?
[01:22:12.140 --> 01:22:12.500]  Это просто уже.
[01:22:14.160 --> 01:22:16.000]  Вот вам.
[01:22:30.340 --> 01:22:34.760]  Ну, может быть, кстати, может быть, даже полезнее вам дабл передать. Не знаю.
[01:22:34.760 --> 01:22:50.080]  Дабл, он будет лежать на спеке как 64 бита и в порядке Little Andy.
[01:22:50.080 --> 01:22:59.200]  Если вы решите его по кусочкам пересылать, обратите внимание на порядок.
[01:22:59.200 --> 01:23:00.980]  Может быть, это важно.
[01:23:03.260 --> 01:23:04.160]  Сейчас как ладоист.
[01:23:04.760 --> 01:23:07.760]  Если у вас регистр, то он сам сделает как раз то, что вы решите.
[01:23:07.760 --> 01:23:09.760]  Какой регистр?
[01:23:09.760 --> 01:23:15.760]  Я несколько раз повторил в начале.
[01:23:15.760 --> 01:23:20.760]  Я вам прямо несколько раз историю рассказал.
[01:23:20.760 --> 01:23:23.760]  Несколько раз сказал, обратите внимание.
[01:23:23.760 --> 01:23:26.760]  Ну, конечно, да, все рассказал, как обычно.
[01:23:34.760 --> 01:23:40.760]  Еще раз. Во-первых, вы думаете, как вы это будете считать.
[01:23:40.760 --> 01:23:51.760]  Во-вторых, вы создаете план, где у вас на стеке процессора, в каком порядке, какое из ваших промежуточных значений, где лежит.
[01:23:51.760 --> 01:24:03.760]  И только после этого вы начинаете писать код, потому что иначе у вас ибо ни черта работать не будет, и вы будете переписывать буквально много-много раз.
[01:24:03.760 --> 01:24:09.760]  И будет очень больно.
[01:24:09.760 --> 01:24:19.760]  Ну, я кодистачик лучше, чем вы кодистачик.
[01:24:19.760 --> 01:24:21.760]  Я могу через стек.
[01:24:21.760 --> 01:24:28.760]  Самый крут, вот такие контакты через стек.
[01:24:28.760 --> 01:24:30.760]  Еще раз.
[01:24:30.760 --> 01:24:32.760]  R0 по R7.
[01:24:32.760 --> 01:24:39.760]  Эти названия существуют только в документации.
[01:24:39.760 --> 01:24:44.760]  Сказать про них R0 по R7 ты не можешь.
[01:24:44.760 --> 01:24:49.760]  По именам они недоступны.
[01:24:49.760 --> 01:24:59.760]  Ты можешь увидеть там в каком-нибудь пальчике такое значение, но в команде никогда ты не можешь так сказать.
[01:24:59.760 --> 01:25:01.760]  В команде обращение только вот ST.
[01:25:01.760 --> 01:25:06.760]  И относительное решение ST.
[01:25:06.760 --> 01:25:11.760] vst , vst , vg , vg .
[01:25:11.760 --> 01:25:13.760]  Vst .
[01:25:13.760 --> 01:25:14.760]  vst .
[01:25:14.760 --> 01:25:16.760]  Vst .
[01:25:16.760 --> 01:25:17.760]  vst , vg .
[01:25:17.760 --> 01:25:19.760]  vst .
[01:25:19.760 --> 01:25:20.760]  vst .
[01:25:20.760 --> 01:25:21.760]  vst .
[01:25:21.760 --> 01:25:22.760]  vst .
[01:25:22.760 --> 01:25:23.760]  vst .
[01:25:23.760 --> 01:25:24.760]  vst .
[01:25:24.760 --> 01:25:25.760]  vst .
[01:25:25.760 --> 01:25:26.760]  vst .
[01:25:26.760 --> 01:25:27.760]  vst .
[01:25:27.760 --> 01:25:28.760]  vst .
[01:25:28.760 --> 01:25:29.760]  vst .
[01:25:29.760 --> 01:25:36.760]  корректируется с минимумом эксажа, то есть не то, что после каждой команды эксаж.
[01:25:36.760 --> 01:25:38.760]  Бесплатный?
[01:25:38.760 --> 01:25:40.760]  Нет, еще раз, он бесплатный.
[01:25:40.760 --> 01:25:42.760]  Бесплатный занимает лишь свитер.
[01:25:42.760 --> 01:25:44.760]  Бесплатный.
[01:25:44.760 --> 01:25:46.760]  Я считаю, что он совсем бесплатный.
[01:25:46.760 --> 01:25:48.760]  Тихо, тихо.
[01:25:48.760 --> 01:26:16.760]  Бесплатный.
[01:26:16.760 --> 01:26:18.760]  Когда вы напишите нечто рабочее,
[01:26:18.760 --> 01:26:22.760]  я вам скажу, как можно белее измерить,
[01:26:22.760 --> 01:26:27.760]  чтобы можно было его полноценно оценить.
[01:26:27.760 --> 01:26:29.760]  Что у вас получается.
[01:26:48.760 --> 01:26:52.760]  Ну, давайте, что никто не страдает умением.
[01:26:52.760 --> 01:26:57.760]  Как получить степени?
[01:26:57.760 --> 01:26:59.760]  Ну, как считать вот,
[01:26:59.760 --> 01:27:03.760]  x5 и честное мнение на x2?
[01:27:03.760 --> 01:27:07.760]  Я бы даже лучше сказал на минус x2.
[01:27:07.760 --> 01:27:10.760]  Что следующую степень числителя
[01:27:10.760 --> 01:27:12.760]  и изменение знака
[01:27:12.760 --> 01:27:16.760]  вы можете просто загнать в константу
[01:27:16.760 --> 01:27:18.760]  и можете минусить.
[01:27:18.760 --> 01:27:23.760]  То есть вам нужно ввести учет
[01:27:23.760 --> 01:27:26.760]  в текущий числитель,
[01:27:26.760 --> 01:27:30.760]  текущий знаменатель
[01:27:30.760 --> 01:27:35.760]  и константочка минус x2,
[01:27:35.760 --> 01:27:39.760]  место, где вы собираете очередное слагаемое
[01:27:39.760 --> 01:27:43.760]  и текущая сумма по слагаемому.
[01:27:43.760 --> 01:27:46.760]  Вот это вам нужно будет отнести.
[01:27:46.760 --> 01:27:49.760]  Еще вам может захотеться,
[01:27:49.760 --> 01:27:53.760]  и это неправильно, народ послушайте,
[01:27:53.760 --> 01:27:56.760]  как вообще получить знаменатель.
[01:28:02.760 --> 01:28:05.760]  Знаменателю многим хочется
[01:28:05.760 --> 01:28:08.760]  в ваш счетчик цикла
[01:28:08.760 --> 01:28:11.760]  сконвертировать в клаущую точку,
[01:28:11.760 --> 01:28:14.760]  умножить там на 2, добавить 1.
[01:28:16.760 --> 01:28:19.760]  Это фиговое дело.
[01:28:19.760 --> 01:28:22.760]  Почему?
[01:28:22.760 --> 01:28:25.760]  Потому что это очень много действий.
[01:28:25.760 --> 01:28:28.760]  Конвертация между целыми числами
[01:28:28.760 --> 01:28:30.760]  и вещественными
[01:28:30.760 --> 01:28:32.760]  это не дешево.
[01:28:32.760 --> 01:28:35.760]  Вместо того, чтобы конвертировать счетчик
[01:28:35.760 --> 01:28:37.760]  на каждом шаге цикла
[01:28:37.760 --> 01:28:40.760]  гораздо проще и быстрее
[01:28:40.760 --> 01:28:42.760]  что сделать?
[01:28:42.760 --> 01:28:44.760]  Просто ввести параллельно
[01:28:44.760 --> 01:28:46.760]  этот самый знаменатель
[01:28:46.760 --> 01:28:49.760]  на степице процесса.
[01:28:49.760 --> 01:28:51.760]  То есть вы будете его увеличивать
[01:28:51.760 --> 01:28:58.760]  на 2 вещественных значения.
[01:28:58.760 --> 01:29:01.760]  Тоже у тебя 8 значений на степице
[01:29:01.760 --> 01:29:06.760]  используют.
[01:29:06.760 --> 01:29:08.760]  То есть в подобных случаях
[01:29:08.760 --> 01:29:12.760]  вы не хотите конвертировать счетчик цикла.
[01:29:12.760 --> 01:29:15.760]  Потому что конверсия из целых чисел
[01:29:15.760 --> 01:29:17.760]  в вещественные, еще раз,
[01:29:17.760 --> 01:29:19.760]  это не быстрая операция.
[01:29:23.760 --> 01:29:25.760]  Решение, либо ты можешь
[01:29:25.760 --> 01:29:28.760]  единицу строить с единицей,
[01:29:28.760 --> 01:29:31.760]  либо ты можешь записать в памяти
[01:29:31.760 --> 01:29:33.760]  константу 2 и загрузить ее.
[01:29:33.760 --> 01:29:35.760]  Кстати говоря, как в памяти
[01:29:35.760 --> 01:29:38.760]  создавать константы с клаущей точкой?
[01:29:42.760 --> 01:29:47.760]  Ну ты хочешь на константу 2,3.
[01:29:47.760 --> 01:29:51.760]  Где тебе ее взять?
[01:29:51.760 --> 01:29:54.760]  У вас же, смотрите, нет команды,
[01:29:54.760 --> 01:29:58.760]  которая записывает, зарегистрирует.
[01:29:58.760 --> 01:30:00.760]  Ну это сколько страданий по переводу.
[01:30:00.760 --> 01:30:02.760]  Ты еще обсчитаешь.
[01:30:02.760 --> 01:30:04.760]  Можно поделить?
[01:30:04.760 --> 01:30:06.760]  Нет.
[01:30:06.760 --> 01:30:08.760]  То есть чего?
[01:30:08.760 --> 01:30:11.760]  Вот ваше сердокомандное,
[01:30:11.760 --> 01:30:14.760]  например, ДД,
[01:30:14.760 --> 01:30:17.760]  они прекрасно понимают
[01:30:17.760 --> 01:30:19.760]  и числа дробные.
[01:30:19.760 --> 01:30:21.760]  То есть вы можете сказать
[01:30:21.760 --> 01:30:24.760]  полтора.
[01:30:24.760 --> 01:30:27.760]  И это будет полтора в каком формате?
[01:30:32.760 --> 01:30:34.760]  Да, но сколько?
[01:30:34.760 --> 01:30:37.760]  У нас там разные варианты.
[01:30:37.760 --> 01:30:39.760]  Зингл, Раббл.
[01:30:41.760 --> 01:30:46.760]  Вот это кто будет?
[01:30:46.760 --> 01:30:51.760]  Это Дворд.
[01:30:51.760 --> 01:30:53.760]  Вот.
[01:30:53.760 --> 01:30:55.760]  Вот это вы говорите,
[01:30:55.760 --> 01:30:57.760]  сейчас пойдут два Д,
[01:30:57.760 --> 01:30:59.760]  и этот Дворд
[01:30:59.760 --> 01:31:01.760]  содержит число с клаущей точкой.
[01:31:01.760 --> 01:31:03.760]  Соответственно, здесь у вас будет
[01:31:03.760 --> 01:31:06.760]  число в формате силового пресижа.
[01:31:06.760 --> 01:31:09.760]  Если вы скажете ДКЮ,
[01:31:09.760 --> 01:31:14.760]  то это будет Дарвы пресижа.
[01:31:14.760 --> 01:31:17.760]  То есть никакого извращения
[01:31:17.760 --> 01:31:19.760]  с 16-личными числами
[01:31:19.760 --> 01:31:21.760]  делать не нужно.
[01:31:21.760 --> 01:31:25.760]  А сервер все это умеет сам приводить.
[01:31:25.760 --> 01:31:27.760]  Очень user-friendly интерфейс.
[01:31:27.760 --> 01:31:30.760]  Только вы должны вот правильно сказать.
[01:31:36.760 --> 01:31:38.760]  Поэтому вы можете
[01:31:38.760 --> 01:31:43.760]  записать константочку 2.0
[01:31:43.760 --> 01:31:45.760]  где-то в памяти
[01:31:45.760 --> 01:31:48.760]  и загрузить ее через это ЛД.
[01:32:01.760 --> 01:32:03.760]  У вас будет такая
[01:32:03.760 --> 01:32:05.760]  подгадательная часть кода,
[01:32:05.760 --> 01:32:07.760]  которая создает исходное
[01:32:07.760 --> 01:32:10.760]  состояние стекловых вычислений.
[01:32:10.760 --> 01:32:12.760]  Основной цикл,
[01:32:12.760 --> 01:32:14.760]  ну и какой-то конец.
[01:32:14.760 --> 01:32:16.760]  Нас, конечно, в первую очередь
[01:32:16.760 --> 01:32:19.760]  интересует оптимизация основного цикла,
[01:32:19.760 --> 01:32:23.760]  чтобы максимизировать скорость
[01:32:23.760 --> 01:32:26.760]  на больших N.
[01:32:32.760 --> 01:32:34.760]  Конечно,
[01:32:34.760 --> 01:32:36.760]  оптимизация по полной
[01:32:36.760 --> 01:32:39.760]  это оптимизировать в том числе
[01:32:39.760 --> 01:32:41.760]  и пролог и эпилог.
[01:32:41.760 --> 01:32:43.760]  Для того, чтобы и с вызовом
[01:32:43.760 --> 01:32:45.760]  с маленькими значениями N
[01:32:45.760 --> 01:32:47.760]  не работало быстро.
[01:32:47.760 --> 01:32:50.760]  Но для вас задача, хотя бы,
[01:32:50.760 --> 01:32:53.760]  оптимизировать вот основной цикл.
[01:32:59.760 --> 01:33:01.760]  То есть в прологе и эпилоге
[01:33:01.760 --> 01:33:03.760]  вы можете не только париться
[01:33:03.760 --> 01:33:05.760]  по минимизации команды,
[01:33:06.760 --> 01:33:08.760]  а вот чтобы основной цикл
[01:33:08.760 --> 01:33:10.760]  у вас был максимально
[01:33:10.760 --> 01:33:12.760]  коротенький и быстрый.
[01:33:31.760 --> 01:33:33.760]  Как вы говорили с регистром,
[01:33:33.760 --> 01:33:35.760]  там используется
[01:33:35.760 --> 01:33:37.760]  информация толпу.
[01:33:37.760 --> 01:33:39.760]  Да, конечно.
[01:34:05.760 --> 01:34:35.760] 
[01:34:35.760 --> 01:35:05.760] 
[01:35:05.760 --> 01:35:35.760] 
[01:35:35.760 --> 01:35:45.740]  Я вдруг
[01:35:45.760 --> 01:35:51.740]  попробую
[01:35:51.740 --> 01:35:56.760]  добавить еще
[01:35:56.760 --> 01:36:01.760]  две разборки,
[01:36:01.760 --> 01:36:03.320]  но чтобы
[01:36:03.320 --> 01:36:04.760]  правильно
[01:36:04.760 --> 01:36:05.760]  считаться,
[01:36:05.760 --> 01:36:31.420]  Как можно сделать пух без стойки?
[01:36:31.420 --> 01:36:45.360]  Если это вершина, то можно туда накидать сравнение.
[01:36:45.360 --> 01:36:59.360]  Сравнение из формы, которую я откидал, выкидываю, учитывая
[01:36:59.360 --> 01:37:01.360]  что подъем обычный.
[01:37:01.360 --> 01:37:01.400]  Сравнение из формы, которую я откидал, выкидываю, учитывая, что подъем обычный.
[01:37:01.400 --> 01:37:05.340]  Что из этого быстрее, без понятия.
[01:37:05.340 --> 01:37:31.340]  Что из этого быстрее, без понятия.
[01:37:31.340 --> 01:37:33.340]  Что из этого быстрее, без понятия.
[01:37:33.340 --> 01:37:35.340]  Что из этого быстрее, без понятия.
[01:37:35.340 --> 01:37:51.340]  Что из этого быстрее, без понятия.
[01:37:51.340 --> 01:37:53.340]  Часы.
[01:37:53.340 --> 01:37:55.340]  Часы.
[01:37:55.340 --> 01:37:57.340]  Cash.
[01:37:57.340 --> 01:37:59.340]  Cash.
[01:37:59.340 --> 01:37:59.940]  Cash.
[01:37:59.940 --> 01:38:00.340]  Cash.
[01:38:00.340 --> 01:38:01.180]  Cash.
[01:38:01.180 --> 01:38:01.220]  Cash.
[01:38:01.220 --> 01:38:01.300]  Cash.
[01:38:01.300 --> 01:38:01.320]  Cash.
[01:38:01.320 --> 01:38:31.300]  Субтитры сделал DimaTorzok
[01:38:31.320 --> 01:39:01.300]  Субтитры сделал DimaTorzok
[01:39:01.320 --> 01:39:31.300]  Субтитры сделал DimaTorzok
[01:39:31.320 --> 01:40:01.300]  Субтитры сделал DimaTorzok
[01:40:01.320 --> 01:40:31.300]  Субтитры сделал DimaTorzok
[01:40:31.320 --> 01:41:01.300]  Субтитры сделал DimaTorzok
[01:41:01.320 --> 01:41:31.300]  Субтитры сделал DimaTorzok
[01:41:31.320 --> 01:42:01.300]  Субтитры сделал DimaTorzok
[01:42:01.320 --> 01:42:31.300]  Субтитры сделал DimaTorzok
[01:42:31.320 --> 01:43:01.300]  Субтитры сделал DimaTorzok
[01:43:01.320 --> 01:43:29.320]  Субтитры сделал DimaTorzok
[01:43:29.320 --> 01:43:29.600]  Субтитры сделал DimaTorzok
[01:43:29.600 --> 01:43:29.700]  Субтитры сделал DimaTorzok
[01:43:29.700 --> 01:43:30.060]  Субтитры сделал DimaTorzok
[01:43:30.060 --> 01:43:30.600]  Субтитры сделал DimaTorzok
[01:43:30.600 --> 01:43:31.120]  Субтитры сделал DimaTorzok
[01:43:31.120 --> 01:43:31.200]  Субтитры сделал DimaTorzok
[01:43:31.200 --> 01:43:31.220]  Субтитры сделал DimaTorzok
[01:43:31.220 --> 01:43:31.280]  Субтитры сделал DimaTorzok
[01:43:31.320 --> 01:43:34.320]  Скорый звук и постель.
[01:43:34.320 --> 01:43:35.320]  И попает.
[01:43:35.320 --> 01:43:37.320]  И попает. А если...
[01:43:37.320 --> 01:43:38.320]  Это степ.
[01:43:38.320 --> 01:43:44.320]  П. Оно считает и попает.
[01:43:44.320 --> 01:43:46.320]  Оно тоже пишет память.
[01:43:46.320 --> 01:43:49.320]  Здесь он память, честно говоря, не хочет.
[01:43:49.320 --> 01:43:52.320]  Нет, в смысле он степ прибавляет и попает.
[01:43:52.320 --> 01:43:53.320]  Все.
[01:43:53.320 --> 01:43:56.320]  Он же нулевой там старифик определяет и нулевой постель.
[01:43:56.320 --> 01:43:58.320]  Это двухкомандный степ.
[01:43:58.320 --> 01:43:59.320]  Это степ.
[01:43:59.320 --> 01:44:00.320]  Да.
[01:44:00.320 --> 01:44:05.320]  А вот это П. Оно вдруг прибавляет то, что ты хочешь.
[01:44:05.320 --> 01:44:08.320]  И вершину попает.
[01:44:29.320 --> 01:44:39.320]  Да.
[01:44:39.320 --> 01:44:47.320]  Ну, я сначала прибавил, а потом считаю степи.
[01:44:47.320 --> 01:44:49.320]  Ну, ладно.
[01:44:49.320 --> 01:44:52.320]  Странновато, конечно.
[01:44:52.320 --> 01:44:57.320]  Ты мешаешь мне сразу читать личные постели.
[01:44:57.320 --> 01:44:58.320]  Сейчас, сейчас.
[01:44:58.320 --> 01:44:59.320]  Так.
[01:44:59.320 --> 01:45:01.320]  Сумма ноль.
[01:45:01.320 --> 01:45:05.320]  Ты считаешь следующую степень и ее прибавляешь.
[01:45:05.320 --> 01:45:09.320]  Это заодно обработает ноль слагаемых.
[01:45:09.320 --> 01:45:11.320]  И ты не будешь считать текущие степи.
[01:45:11.320 --> 01:45:13.320]  Я сейчас сумму ноль.
[01:45:13.320 --> 01:45:14.320]  Понимаю.
[01:45:14.320 --> 01:45:16.320]  Текущие степи у меня здесь не просто есть.
[01:45:16.320 --> 01:45:18.320]  Еще раз.
[01:45:18.320 --> 01:45:27.320]  Я предлагаю стартовать с нуля слагаемых и добавлять просто текущую слагаемую сумму.
[01:45:27.320 --> 01:45:28.320]  Понятно.
[01:45:28.320 --> 01:45:30.320]  Текущую считаешь и вы добавляешь.
[01:45:30.320 --> 01:45:32.320]  Не следующую считаешь.
[01:45:32.320 --> 01:45:33.320]  Да.
[01:45:33.320 --> 01:45:35.320]  Текущую считаешь и вы добавляете.
[01:45:35.320 --> 01:45:37.320]  С иксом.
[01:45:37.320 --> 01:45:39.320]  Ну, типа, сломаю.
[01:45:39.320 --> 01:45:42.320]  В первой стороне нужно добавить сломанную коэффициентную деятельность.
[01:45:42.320 --> 01:45:43.320]  Перевожу.
[01:45:43.320 --> 01:45:44.320]  Минус икс еще.
[01:45:44.320 --> 01:45:45.320]  А.
[01:45:45.320 --> 01:45:46.320]  Да.
[01:45:46.320 --> 01:45:47.320]  А потом икс.
[01:45:47.320 --> 01:45:48.320]  Ну, да.
[01:45:48.320 --> 01:45:50.320]  У нас не можно считать.
[01:45:50.320 --> 01:45:53.320]  А то, что в конце у нас еще не раз будет икс квадрат.
[01:45:53.320 --> 01:45:54.320]  Не страшно.
[01:45:54.320 --> 01:45:55.320]  А.
[01:45:55.320 --> 01:45:56.320]  Да.
[01:45:56.320 --> 01:45:57.320]  Да.
[01:45:57.320 --> 01:45:59.320]  Не страшно.
[01:45:59.320 --> 01:46:05.320]  Особенно, если ты это не будешь использовать.
[01:46:05.320 --> 01:46:06.320]  Да.
[01:46:06.320 --> 01:46:09.320]  Если ты это просто попришишь.
[01:46:09.320 --> 01:46:11.320]  То есть у тебя нет зависимости от этого.
[01:46:11.320 --> 01:46:13.320]  То есть прием можно указывать.
[01:46:13.320 --> 01:46:19.320]  Да.
[01:46:19.320 --> 01:46:22.320]  Тогда оно у тебя даже не будет замерзать только по времени.
[01:46:22.320 --> 01:46:26.320]  Оно будет считаться параллельно с возвратом.
[01:46:26.320 --> 01:46:35.320]  Просто пожертвовать немножко больше энергии, но по времени
[01:46:35.320 --> 01:46:37.320]  себя не ограничить, если ты не используешь это так
[01:46:37.320 --> 01:46:38.320]  основательно.
[01:46:38.320 --> 01:46:39.320]  Сейчас попробую.
[01:46:39.320 --> 01:46:40.320]  А.
[01:46:40.320 --> 01:46:41.320]  Давай.
[01:46:41.320 --> 01:46:42.320]  Сейчас.
[01:46:42.320 --> 01:46:43.320]  Давай.
[01:46:43.320 --> 01:46:44.320]  А.
[01:46:44.320 --> 01:46:45.320]  Да.
[01:46:45.320 --> 01:46:46.320]  А.
[01:46:46.320 --> 01:46:47.320]  Да.
[01:46:47.320 --> 01:46:48.320]  Ну, да.
[01:46:48.320 --> 01:46:49.320]  Попробуй это.
[01:46:49.320 --> 01:46:50.320]  Давай.
[01:46:50.320 --> 01:46:51.320]  А.
[01:46:51.320 --> 01:46:52.320]  Да.
[01:46:52.320 --> 01:46:53.320]  Да.
[01:46:53.320 --> 01:46:54.320]  Да.
[01:46:54.320 --> 01:46:55.320]  Да.
[01:46:55.320 --> 01:46:57.320]  Спасибо.
[01:47:25.320 --> 01:47:44.140]  Он прибавляет, что ты сказал, куда ты сказал, а потом выкидывает СТ0 сочетание команды АТУДЖО и ОППОТОМ.
[01:47:55.320 --> 01:48:00.500]  Единая команда, да.
[01:48:00.500 --> 01:48:08.500]  Да, это честная команда.
[01:48:08.500 --> 01:48:22.560]  Вы, кажется, это обсуждаете. Я хотел тоже просто ПОП, и это ФСТП0.
[01:48:22.560 --> 01:48:22.880]  Нулевое.
[01:48:25.320 --> 01:48:28.240]  Он не будет ПОП.
[01:48:28.240 --> 01:48:29.740]  Что такое ПОП?
[01:48:29.740 --> 01:48:34.000]  Это покрутить СТ и пометить как свободное.
[01:48:36.400 --> 01:48:47.000]  Покрутить СТ ты можешь через ФПП, пометить как свободное ты можешь через ФФРИ.
[01:48:49.000 --> 01:48:52.320]  Поэтому, ну, здесь вопрос.
[01:48:52.320 --> 01:48:55.320]  Если тебе нужно почистить что-то не на вершине,
[01:48:55.320 --> 01:49:19.320]  Если тебе нужно по чисточной вершине стека, то либо комбинация f и f , либо ты можешь поделать какие-то операции, которые выкидывают значения со стека, например, сравнение.
[01:49:19.320 --> 01:49:29.320]  Ты можешь делать сравнение, у сравнения даже есть форма с вузьмя p.
[01:49:29.320 --> 01:49:42.320]  Не то сравнение, которое я рекомендовал, вы делаете ради того, чтобы оно просто сожрало числа на стеке и выкинуло их в чертеж.
[01:49:42.320 --> 01:49:46.320]  Но я не могу сказать, что будет быстрее.
[01:49:46.320 --> 01:49:48.320]  Делаем сравнение.
[01:49:48.320 --> 01:49:56.320]  Возможно, самый быстрый вариант, знаете, какой?
[01:49:56.320 --> 01:50:06.320]  f на вершину то, что надо, а остальные f .
[01:50:06.320 --> 01:50:18.320]  Потому что f дешевый, а f , ну, тоже дешевый, явно не дороже, чем попытка разместить какую-то точку.
[01:50:18.320 --> 01:50:26.320]  А может быть, появление, что это будет...
[01:50:26.320 --> 01:50:28.320]  Не знаю.
[01:50:28.320 --> 01:50:33.320]  Да, значит, плюсов в комнату, но под вас значения какие-то.
[01:50:33.320 --> 01:50:36.320]  Ну, что, реально быстрее, пока ни камеры есть.
[01:50:36.320 --> 01:50:38.320]  Ужас.
[01:50:38.320 --> 01:50:40.320]  Ужас.
[01:50:40.320 --> 01:50:42.320]  Ужас.
[01:50:42.320 --> 01:50:44.320]  Ужас.
[01:50:44.320 --> 01:50:46.320]  Ужас.
[01:50:46.320 --> 01:50:48.320]  Ужас.
[01:50:48.320 --> 01:50:50.320]  Ужас.
[01:50:50.320 --> 01:50:52.320]  Ужас.
[01:50:52.320 --> 01:50:54.320]  Ужас.
[01:50:54.320 --> 01:50:56.320]  Ужас.
[01:50:56.320 --> 01:50:58.320]  Ужас.
[01:50:58.320 --> 01:51:00.320]  Ужас.
[01:51:00.320 --> 01:51:02.320]  Ужас.
[01:51:02.320 --> 01:51:04.320]  Ужас.
[01:51:04.320 --> 01:51:06.320]  Ужас.
[01:51:06.320 --> 01:51:08.320]  1 х 2 х 5
[01:51:08.320 --> 01:51:10.320]  1 х 5
[01:51:10.320 --> 01:51:17.320]  1 х 5
[01:51:17.320 --> 01:51:32.860]  полезно подумать об отдаче
[01:51:32.860 --> 01:51:42.160]  я вообще не сторонник гдб из концовки я считаю что это как-то слишком больно
[01:51:42.160 --> 01:52:01.680]  вручили все-таки здесь я бы вам рекомендовал какую-нибудь стережку прикрутить к плачу они
[01:52:01.680 --> 01:52:07.240]  даже могут внутри себя используют тот же самый гдб но цивилизованная
[01:52:07.240 --> 01:52:12.040]  если что-то просто
[01:52:12.160 --> 01:52:24.200]  оформленная то на удивление неплох клуб креет крейтер по идее и грешка для
[01:52:24.200 --> 01:52:32.080]  разработки клюка но она способна стыковаться к разному пальчиком она
[01:52:32.080 --> 01:52:41.140]  оформленная и можно вот через довольно удобный интерфейс отлаживать ассендер не
[01:52:41.140 --> 01:52:41.620]  пасть
[01:52:42.160 --> 01:52:45.880]  тем как его
[01:52:52.800 --> 01:53:00.640]  углани
[01:53:01.540 --> 01:53:04.820]  у тебя
[01:53:08.060 --> 01:53:11.020]  томно и
[01:53:12.160 --> 01:53:22.660]  это что? У тебя нет вращаемых причин. Да, я икс это место храняем на регистрации.
[01:53:22.660 --> 01:53:42.820]  А как инк стп? Да, просто бери стп и не помечает, как займитесь свободой, просто бери.
[01:53:42.820 --> 01:53:52.480]  А у нас все эти команды вовремя. Ну, инк стп, дэк стп, фри, фноб,
[01:53:52.560 --> 01:53:52.640]  я не знаю, как это называется.
[01:53:52.640 --> 01:53:52.660]  Я не знаю, как это называется. Я не знаю, как это называется.
[01:53:52.660 --> 01:54:22.640]  Я не знаю, как это называется.
[01:54:22.640 --> 01:54:52.620]  Я не знаю, как это называется.
[01:54:52.620 --> 01:55:22.600]  Я не знаю, как это называется.
[01:55:22.600 --> 01:55:52.580]  Я не знаю, как это называется.
[01:55:52.600 --> 01:56:22.580]  Я не знаю, как это называется.
[01:56:22.580 --> 01:56:52.560]  Я не знаю, как это называется.
[01:56:52.560 --> 01:57:22.540]  Я не знаю, как это называется.
[01:57:22.560 --> 01:57:52.540]  Я не знаю, как это называется.
[01:57:52.540 --> 01:58:22.520]  Я не знаю, как это называется.
[01:58:22.520 --> 01:58:52.500]  Я не знаю, как это называется.
[01:58:52.520 --> 01:59:22.500]  Я не знаю, как это называется.
[01:59:22.500 --> 01:59:42.220]  Это он всегда, даже в 64-битном мире, значение 64-битного внутреннего счетчика процессора, который примерно увеличивает свое значение каждый этап.
[01:59:43.600 --> 01:59:48.820]  Почему примерно? Потому что когда команда появилась, оно так и было.
[01:59:48.820 --> 01:59:59.360]  То есть процессор каждый свой этап увеличивал у себя внутри счетчик, и мы могли этот счетчик получить командой R, D, T, S, C.
[02:00:00.540 --> 02:00:16.840]  Но потом, кто знает, что произошло, потом оказалось, что энергосбережение это важно, и процессоры начали иметь плавающую частоту.
[02:00:18.820 --> 02:00:23.940]  Поэтому счетчик просто тактов стал неполезным.
[02:00:25.380 --> 02:00:30.960]  Вы хотите зачем считать такты? Чтобы измерить какой-то интервал времени.
[02:00:32.240 --> 02:00:38.140]  А если ваша частота дико плавает, то и полезность этого счетчика становится ноль.
[02:00:39.480 --> 02:00:40.940]  Непонятно, что вы там измерили.
[02:00:41.340 --> 02:00:48.800]  Поэтому в современных процессорах этот счетчик есть, но он считает не совсем так.
[02:00:48.820 --> 02:00:57.820]  Он примерно считает на той частоте, на которой заявлена базовая частота вашего процессора.
[02:00:58.760 --> 02:01:04.060]  Вот у вас там есть всякие турбо-частоты, и есть бейс-частота.
[02:01:04.980 --> 02:01:08.700]  Вот этот счетчик считает примерно на бейс-частоте.
[02:01:09.960 --> 02:01:12.900]  Плюс-минус стоимость недопогрешности.
[02:01:15.380 --> 02:01:18.800]  И соответственно, когда ваш процессор крутит частоту,
[02:01:19.100 --> 02:01:23.500]  этот счетчик считает стабильно на вот на своей частоте.
[02:01:25.400 --> 02:01:30.200]  То есть его можно использовать как очень точный датчик времени.
[02:01:31.440 --> 02:01:33.860]  Он считает не совсем такты.
[02:01:35.080 --> 02:01:41.560]  И единственная проблема, у датча узнать, как перевести его во время.
[02:01:43.560 --> 02:01:46.960]  То есть чтобы перенести его в реальное время, в секунды,
[02:01:46.960 --> 02:01:46.980]  в секунды.
[02:01:48.820 --> 02:01:56.980]  как-то определить а с какой частотой он считает все процессоры конечно считаются своей собственной
[02:01:56.980 --> 02:02:06.940]  но если вы используете этот датчик в качестве бенчмарка для того чтобы определить стало
[02:02:06.940 --> 02:02:16.360]  быстрее стало медленнее переводить это в секунды вам нафиг не надо вы смотрите на число код меняете
[02:02:16.360 --> 02:02:24.540]  и смотрите стало больше стало меньше поэтому самая большая заморочка этого датчика как его
[02:02:24.540 --> 02:02:35.140]  перенести секунды для определения скорости года не стоит потому что вас интересует не значение
[02:02:35.140 --> 02:02:42.940]  в секунду вас интересует а как она относительно другого варианта и для этого нет необходимости
[02:02:42.940 --> 02:02:46.320]  переводить единственное что
[02:02:46.360 --> 02:02:53.480]  сейчас я рекомендую вам использовать немножко другую форму этой команды
[02:02:53.480 --> 02:03:03.940]  чем отличие то что во первых эта команда появилась попозднее где-то в районе
[02:03:03.940 --> 02:03:13.600]  и она кроме еды x я x пишет вам еще
[02:03:13.600 --> 02:03:16.340]  детстве
[02:03:16.360 --> 02:03:30.220]  x она пишет идентификатор ядра чем идея идея в том что если вот вы замерили начало
[02:03:30.220 --> 02:03:41.080]  времени потом операционка вас переместила на другое ядро а вы там поверили окончания то
[02:03:41.080 --> 02:03:46.300]  вполне возможно что у другого ядра этот счетчик считает что-то такое
[02:03:46.360 --> 02:03:48.560]  другое ну то есть они не синхронной
[02:03:48.560 --> 02:03:51.500]  что получилось такое
[02:03:51.500 --> 02:03:52.200]  чтобы
[02:03:52.200 --> 02:03:56.300]  программа могла обнаружить что ее перенести на другое ядро
[02:03:56.300 --> 02:04:02.520]  но современные операционки они стараются синхронить этот счетчик по разным ядрам
[02:04:02.520 --> 02:04:05.500]  поэтому особенно с этим можно не заморачиваться
[02:04:05.500 --> 02:04:10.220]  но у этой команды есть другое важное отличие
[02:04:10.220 --> 02:04:12.800]  вот базовую команду rdtscp
[02:04:12.800 --> 02:04:16.220]  ее постулировали как не синхрон travelling
[02:04:16.360 --> 02:04:24.020]  материализирующую. Что это означает? Это означает, что суперскаляр в своем окне планирования
[02:04:24.020 --> 02:04:29.720]  может эту команду произвольным образом переставлять с окружающими командами.
[02:04:31.720 --> 02:04:39.380]  То есть эта команда подходит, этот эссе, для измерения текущего времени,
[02:04:39.380 --> 02:04:47.520]  но не очень годится для измерения, сколько занимает маленький интервал кода,
[02:04:48.120 --> 02:04:55.220]  потому что исполнение этой команды, исполнение окружающих команд может быть переставленным эту собой.
[02:04:57.200 --> 02:05:03.240]  РДТСЦП, оно еще ставит барьерчик в этой очереди,
[02:05:03.240 --> 02:05:08.240]  что все, что до меня должно исполниться, ну как исполнится,
[02:05:09.380 --> 02:05:14.460]  начать исполняться. То есть если команда какая-то, скажем, пишет память,
[02:05:14.760 --> 02:05:17.620]  то мы не будем дожидаться окончания записи памяти.
[02:05:19.960 --> 02:05:24.680]  Эта команда, она отправится на исполнение только после того,
[02:05:24.840 --> 02:05:27.740]  как все команды перед ней отправятся на исполнение.
[02:05:29.200 --> 02:05:33.160]  И такого свойства у РДТСЦ нет.
[02:05:34.760 --> 02:05:39.300]  Поэтому для измерения коротких интервалов, сколько у вас там код,
[02:05:39.380 --> 02:05:43.060]  сколько вы занимаете, лучше использовать РДТСЦП.
[02:05:43.060 --> 02:05:47.060]  Команда без аргументов, все аргументы у нее не ясны.
[02:05:47.060 --> 02:05:54.060]  И эта команда, она доступна вам из языков высокого уровня,
[02:05:54.060 --> 02:06:01.060]  то есть, например, из CC++ вы также можете ее вызвать на современных компиляторах через Intrinsic.
[02:06:01.060 --> 02:06:05.060]  Два подчеркивания РДТСЦП.
[02:06:05.060 --> 02:06:09.060]  Он будет иметь аргумент-указатель на,
[02:06:09.380 --> 02:06:14.380]  куда сохранить вот это ненужное значение обычное.
[02:06:14.380 --> 02:06:20.380]  Ну, укажите там какой-нибудь ансамбль, и оно сожрет.
[02:06:25.380 --> 02:06:26.380]  Оно сожрет можно?
[02:06:26.380 --> 02:06:27.380]  Что?
[02:06:27.380 --> 02:06:28.380]  Оно сожрет.
[02:06:28.380 --> 02:06:31.380]  Нет, но если ты передашь какую-нибудь переменную, которая не используется,
[02:06:31.380 --> 02:06:33.380]  это равно за оптимальность.
[02:06:33.380 --> 02:06:35.380]  По крайней мере, сам.
[02:06:39.380 --> 02:06:43.380]  Она возвращает вам 64-битное число.
[02:06:43.380 --> 02:06:48.380]  На C это будет просто, да, UIN64.
[02:06:48.380 --> 02:06:51.380]  А на C это будет регистровая пара.
[02:06:51.380 --> 02:06:57.380]  Притом это будет всегда регистровая пара и в 32, и в 64-битном мире.
[02:07:04.380 --> 02:07:07.380]  Вот через РДТСЦП вы можете измерять,
[02:07:07.380 --> 02:07:11.380]  как очень маленькие промежутки времени,
[02:07:11.380 --> 02:07:13.380]  порядка нескольких такт.
[02:07:13.380 --> 02:07:19.380]  Но учитывайте, что сама команда РДТСЦП, конечно, тоже не бесплатная.
[02:07:19.380 --> 02:07:26.380]  Поэтому, например, чтобы измерить, там, время исполнения какой-нибудь команды АДТ,
[02:07:26.380 --> 02:07:31.380]  ну, РДТСЦП гораздо тяжелее, чем это будет.
[02:07:31.380 --> 02:07:35.380]  Вам нужно эту команду, которую вы хотите измерить,
[02:07:35.380 --> 02:07:37.380]  все-таки повторить в какой-то порядке.
[02:07:37.380 --> 02:07:40.380]  Это первое.
[02:07:40.380 --> 02:07:43.380]  Во-вторых, когда вы меряете какой-то код,
[02:07:43.380 --> 02:07:51.380]  учитывайте, что у вас есть реальная вариация скорости его исполнения.
[02:07:51.380 --> 02:07:56.380]  Особенно, если вы на ноутбуке.
[02:07:56.380 --> 02:08:01.380]  Потому что ноутбучное железо очень любит крутить свою частоту.
[02:08:01.380 --> 02:08:05.380]  Если вы будете измерять какие-то короткие промежутки времени,
[02:08:05.380 --> 02:08:12.380]  вы будете эффективно измерять погоду на Марсе гораздо точнее, чем скорость своего кода.
[02:08:12.380 --> 02:08:17.380]  Как сделать, чтобы у вас не совсем была погода на Марсе,
[02:08:17.380 --> 02:08:20.380]  а что-то больше похожее на ваш код?
[02:08:20.380 --> 02:08:23.380]  Шаг номер один.
[02:08:23.380 --> 02:08:25.380]  Включить ноутбук в зарядку.
[02:08:25.380 --> 02:08:29.380]  Это уже сильно уменьшает вариацию.
[02:08:29.380 --> 02:08:31.380]  Шаг номер два.
[02:08:31.380 --> 02:08:33.380]  Не мерить слишком маленькие интервалы.
[02:08:33.380 --> 02:08:40.380]  Ваш интервал для того, чтобы не париться, должен быть порядка миллисекунд.
[02:08:40.380 --> 02:08:44.380]  Если у вас там микросекунды или еще меньше,
[02:08:44.380 --> 02:08:50.380]  то готовьтесь к тому, что у вас будет большой разброс и здравствует статистика.
[02:08:50.380 --> 02:08:56.380]  Если вы хотите получить что-то правдоподобное.
[02:08:56.380 --> 02:08:59.380]  Если вы не хотите заниматься статистикой,
[02:08:59.380 --> 02:09:02.380]  тогда сделайте так, чтобы ваш интервал был хотя бы минимальным.
[02:09:02.380 --> 02:09:07.380]  Лучше даже пара секунд.
[02:09:07.380 --> 02:09:12.380]  Заверните это в цикл и поставьте такое количество складаемых,
[02:09:12.380 --> 02:09:19.380]  чтобы оно было не слишком маленьким по времени.
[02:09:19.380 --> 02:09:21.380]  Какие еще рекомендации?
[02:09:21.380 --> 02:09:29.380]  Еще я вам говорил, что частоту процессора можно стабилизировать.
[02:09:29.380 --> 02:09:31.380]  Не очень цивилизованно.
[02:09:31.380 --> 02:09:33.380]  Но можно.
[02:09:33.380 --> 02:09:36.380]  Записываю специальный MSR.
[02:09:36.380 --> 02:09:38.380]  Можно выключить турбо.
[02:09:38.380 --> 02:09:42.380]  И частота вашего процессора упадет до базовой.
[02:09:42.380 --> 02:09:48.380]  Так вы можете получить прям стабильную частоту.
[02:09:48.380 --> 02:09:51.380]  Ну, конечно, с точки зрения всякого перегрева.
[02:09:51.380 --> 02:09:53.380]  Сука.
[02:09:53.380 --> 02:09:55.380]  Сколько?
[02:09:55.380 --> 02:09:57.380]  Сколько?
[02:09:57.380 --> 02:09:59.380]  Еще полгода.
[02:09:59.380 --> 02:10:04.380]  Не, только вытачку, но сейчас они ens 귀, да.
[02:10:04.380 --> 02:10:07.380]  Не, циклы-то можно разве hall away 00 00 00 00 00 00 00 00 00 00 .
[02:10:07.380 --> 02:10:08.380]  Кто?
[02:10:08.380 --> 02:10:10.380]  Кто?
[02:10:10.380 --> 02:10:27.160]  Вы чем упаст
[02:10:27.160 --> 02:10:27.500]  у вас?
[02:10:27.500 --> 02:10:28.380]  Щас шустер возьмем.
[02:10:28.380 --> 02:10:35.380]  Она максимум развернёт, она прижимает функции, она не заимлайнит вам функции.
[02:10:43.380 --> 02:10:55.380]  Что такое LTO? LTO означает скомпилировать ваш код в промежуточный код, а потом докомпилировать во время линковки.
[02:10:55.380 --> 02:11:10.380]  Вот если вы писали не на ASMI x86, а на LLVM байткоде, то тогда да, это LTO бы вас оптимизировало, заинлайнило и так далее.
[02:11:19.380 --> 02:11:23.380]  Вы можете здесь просто поставить большой качественный фронтальный компакт.
[02:11:25.380 --> 02:11:28.380]  То есть в этом плане эта задача простая.
[02:11:29.380 --> 02:11:37.380]  Я вам так подробно рассказываю, исходя из того, что начинается 2 лабораторная, у нас будет ещё оцениваться скорость.
[02:11:42.380 --> 02:11:50.380]  Значит, когда ваша лабораторная просто правильно почитала, то это не конец лаборатории, а на самом деле начало лаборатории.
[02:11:50.380 --> 02:11:52.380]  Вот.
[02:11:53.380 --> 02:11:59.380]  Ну вот сравнивать такты разного железа довольно...
[02:12:00.380 --> 02:12:07.380]  Просто у него вообще не прыгает, а у меня там в среднем либо постоянно какое-то время 60, какое-то время 40, и иногда там 100-150 прыгает.
[02:12:08.380 --> 02:12:17.380]  Ну ещё раз я говорю, вы хотите, во-первых, оптимизировать зарядку, во-вторых, не умереть слишком маленькие интервалы,
[02:12:18.380 --> 02:12:19.380]  поставить достаточно большое количество операций.
[02:12:20.380 --> 02:12:22.380]  Чтобы было хотя бы миллисекунды.
[02:12:22.380 --> 02:12:23.380]  Скажите, сейчас.
[02:12:25.380 --> 02:12:26.380]  Ну и рассказывайте.
[02:12:29.380 --> 02:12:30.380]  Что такое?
[02:12:37.380 --> 02:12:39.380]  У тебя самая такая особая.
[02:12:41.380 --> 02:12:42.380]  Чего вы пытаетесь там?
[02:12:43.380 --> 02:12:44.380]  У нас объект был.
[02:12:45.380 --> 02:12:46.380]  Это уже объект?
[02:12:47.380 --> 02:12:48.380]  Да.
[02:12:48.380 --> 02:12:49.380]  Да.
[02:12:50.380 --> 02:12:51.380]  Неraitwp?
[02:12:51.380 --> 02:12:52.380]  Да.
[02:12:52.380 --> 02:12:53.380]  Я верил бы, скажу вам сразу.
[02:12:53.380 --> 02:12:54.380]  Эти ряды мне пришли.
[02:12:54.380 --> 02:12:59.380]  Не можно на такие микрофоны до монеты копировать, сколько всяких.
[02:13:01.380 --> 02:13:04.380]  Можно и китатора в nya взять.
[02:13:04.380 --> 02:13:08.380]  У нас, у Вас, а сам же также написал П third one, пакисти полностью.
[02:13:11.380 --> 02:13:12.380]  Всё에.
[02:13:14.380 --> 02:13:15.380]  Новый символ.
[02:13:15.380 --> 02:13:16.380]  Сeveror Pandemius.
[02:13:16.380 --> 02:13:17.380]  Он скорее всего разведет рское ventriloquy.
[02:13:17.380 --> 02:13:18.380]  Я думаю,阿утизм уже у нас?
[02:13:18.380 --> 02:13:19.380]  Да.
[02:13:19.380 --> 02:13:24.020]  Скорее всего, развернуло это, ну, не знаю, не зря я это выяснил.
[02:13:29.820 --> 02:13:31.000]  Ну, я сам хорошо к нему.
[02:13:33.260 --> 02:13:38.240]  Да нет, просто у вас стоимость одного вызова радикально больше,
[02:13:39.000 --> 02:13:41.420]  чем все, что можно сделать на уровень выше,
[02:13:42.040 --> 02:13:44.660]  если вы там ничего особо не делаете, прямо просто выезживаете.
[02:13:45.520 --> 02:13:47.780]  Если вы там, то есть, приф, зафигачите,
[02:13:47.780 --> 02:13:52.340]  то, конечно, если вы каждый раз в цикле,
[02:13:52.840 --> 02:13:55.760]  тогда, конечно, вывод на консоль убьет все остальное,
[02:13:56.880 --> 02:14:00.440]  потому что он на порядке тяжелее, чем в расчете.
[02:14:01.940 --> 02:14:04.160]  Но если вы просто переберете в этой функции,
[02:14:04.580 --> 02:14:10.020]  то она намного порядков тяжелее, чем организация цикла снаружи.
[02:14:17.780 --> 02:14:23.560]  Вот, и когда вы там не сильно поверили,
[02:14:24.060 --> 02:14:26.680]  вот теперь вы можете уже поэкспериментировать,
[02:14:27.560 --> 02:14:30.080]  попробовать что-нибудь там в своем алгоритме изменить.
[02:14:34.040 --> 02:14:35.300]  А, нет, ну не нужно.
[02:14:35.300 --> 02:14:36.300]  Да, я...
[02:14:36.300 --> 02:14:39.460]  А, может быть, в цикле, ясно.
[02:14:39.640 --> 02:14:43.240]  Да, вот так вот, фигачить.
[02:14:45.420 --> 02:14:47.120]  Ну, еще раз, тогда это степей,
[02:14:47.180 --> 02:14:47.760]  вы можете вызывать,
[02:14:47.760 --> 02:14:49.040]  вы можете вызывать даже эти си,
[02:14:50.100 --> 02:14:51.320]  чтобы это не сморило.
[02:14:52.060 --> 02:14:52.960]  Какая же сахарка?
[02:14:53.100 --> 02:14:53.220]  Да.
[02:14:59.100 --> 02:15:00.080]  Снова это больше.
[02:15:03.480 --> 02:15:06.540]  Ну, и два, вы хотите какие-нибудь такие значения,
[02:15:06.740 --> 02:15:09.520]  чтобы оно не было слишком быстро исполняемым,
[02:15:09.640 --> 02:15:12.980]  и не слишком плавало по скорости.
[02:15:15.700 --> 02:15:17.560]  Но все равно, конечно, на ноутах,
[02:15:17.660 --> 02:15:17.740]  вот,
[02:15:17.760 --> 02:15:19.740]  вы будете мерить ту еще погоду.
[02:15:21.600 --> 02:15:22.500]  Без зарядки.
[02:15:25.100 --> 02:15:25.760]  Сейчас будет рандомчик.
[02:15:25.760 --> 02:15:26.340]  Сейчас будет рандомчик.
[02:15:34.340 --> 02:15:35.080]  Что вы там?
[02:15:35.580 --> 02:15:36.220]  Заработал ваш...
[02:15:36.220 --> 02:15:37.200]  Ну, что-то заработал, да.
[02:15:37.260 --> 02:15:38.400]  Надо понять, сколько времени...
[02:15:38.400 --> 02:15:42.080]  Эх вы, народ, ну если рассказывать...
[02:15:42.080 --> 02:15:44.100]  Да нет, ну я понял, что как бы команда делает...
[02:15:44.100 --> 02:15:45.760]  Или что, вы хотите использовать команду
[02:15:46.300 --> 02:15:47.400]  РДТСП?
[02:15:47.760 --> 02:15:48.120]  Да.
[02:15:48.940 --> 02:15:50.500]  Она делает следующее.
[02:15:51.000 --> 02:15:53.480]  В регистре глупая университет ЕЛИКС
[02:15:53.480 --> 02:15:56.980]  пишет счетчик почти тактов процессора.
[02:15:58.600 --> 02:16:00.760]  В ЕЦЛИКС пишет идентификатор процессора.
[02:16:02.040 --> 02:16:04.100]  В принципе, современные операционки
[02:16:04.100 --> 02:16:07.480]  стараются синхронить все эти счетчики,
[02:16:07.920 --> 02:16:09.900]  поэтому на это число можно и забить,
[02:16:10.400 --> 02:16:12.720]  просто считать, что регистр ЕЦЛИКС портится.
[02:16:14.560 --> 02:16:15.320]  Теперь,
[02:16:15.320 --> 02:16:17.740]  эту команду вы можете дернуть,
[02:16:17.760 --> 02:16:19.760]  и из высокого уровня,
[02:16:19.760 --> 02:16:21.760]  то есть из уровня СИН.
[02:16:21.760 --> 02:16:22.260]  То есть, не надо писать.
[02:16:22.260 --> 02:16:22.760]  Да.
[02:16:22.760 --> 02:16:24.760]  Необязательно писать на сендере.
[02:16:24.760 --> 02:16:28.760]  Ее можно дернуть через два подчеркивания РДТСЦП,
[02:16:28.760 --> 02:16:31.760]  или что-то очень похожее, через интринсик,
[02:16:31.760 --> 02:16:34.760]  который все крупные современные компиляторы имеют.
[02:16:36.260 --> 02:16:41.260]  Только интринсик захочет вам адрес, куда записать ЕЦИКС.
[02:16:41.260 --> 02:16:43.260]  Ну, дайте ему что-нибудь.
[02:16:43.260 --> 02:16:46.760]  Не используйте это, и оно соптимизируется никуда.
[02:16:46.760 --> 02:16:47.640]  Просто синхронизируйте.
[02:16:47.640 --> 02:16:51.640]  Синтаксически оно хочет место под ЕЦИКС.
[02:16:55.640 --> 02:16:57.640]  20 тысяч сегментов суммы.
[02:16:57.640 --> 02:16:58.640]  Что?
[02:16:58.640 --> 02:17:00.640]  20 тысяч сегментов суммы,
[02:17:00.640 --> 02:17:02.640]  что-то он все равно миллисекунд показывает.
[02:17:02.640 --> 02:17:04.640]  Это что, миллисекунд?
[02:17:04.640 --> 02:17:06.640]  Я вам сказал, что вы хотите поменять.
[02:17:06.640 --> 02:17:08.640]  Ну, в сравнении, да, можно.
[02:17:09.640 --> 02:17:12.640]  В миллисекундах вы будете еще сражаться
[02:17:12.640 --> 02:17:15.640]  против своей операционной системы,
[02:17:15.640 --> 02:17:17.640]  с какой точностью она дает вам
[02:17:17.640 --> 02:17:21.640]  обновляет вот это значение миллисекунды,
[02:17:21.640 --> 02:17:23.640]  через что вы там получаете.
[02:17:27.640 --> 02:17:31.640]  Ну, я говорю, что там отдельный вид у вас операционной системы.
[02:17:31.640 --> 02:17:36.640]  Вот этот вот датчик, он максимально независим от операционной системы.
[02:17:36.640 --> 02:17:39.640]  Суперточный и суперлегкий.
[02:17:39.640 --> 02:17:42.640]  Вот легче этого датчика времени у вас нет ничего.
[02:17:42.640 --> 02:17:44.640]  Да, у него вот этот тикток,
[02:17:44.640 --> 02:17:46.640]  то, что вы можете преобразовать в обычное время,
[02:17:46.640 --> 02:17:48.640]  по-моему, никто не знает.
[02:17:48.640 --> 02:17:50.640]  Нет, еще раз, у него проблема,
[02:17:50.640 --> 02:17:51.640]  что ты не знаешь, да,
[02:17:51.640 --> 02:17:53.640]  сколько вы можете...
[02:17:53.640 --> 02:17:56.640]  Типа там на процессе она как-то сменяется?
[02:17:56.640 --> 02:17:58.640]  Нет, ну, на одном процессе
[02:17:58.640 --> 02:18:00.640]  она все время поменяет,
[02:18:00.640 --> 02:18:02.640]  но какое, значит, было в процессе,
[02:18:02.640 --> 02:18:04.640]  я заблужден.
[02:18:04.640 --> 02:18:06.640]  А я бы, типа, показал,
[02:18:06.640 --> 02:18:08.640]  что вот всякие же.
[02:18:12.640 --> 02:18:13.640]  Во-первых, нет,
[02:18:13.640 --> 02:18:16.640]  во-вторых, это даже немножко теоретически невозможно.
[02:18:16.640 --> 02:18:17.640]  Почему?
[02:18:17.640 --> 02:18:22.640]  Потому что эта штука относительно внешнего тактового генератора.
[02:18:22.640 --> 02:18:25.640]  И если ты решил, например, с материнкой
[02:18:25.640 --> 02:18:29.640]  покрутить тактовый генератор,
[02:18:29.640 --> 02:18:32.640]  то процессор об этом не узнает.
[02:18:32.640 --> 02:18:37.640]  От того, что ты начинаешь его синхронно разгонять или замедлять,
[02:18:37.640 --> 02:18:39.640]  процессор это никак не видит.
[02:18:39.640 --> 02:18:44.640]  На уровне логики это не видно.
[02:18:44.640 --> 02:18:46.640]  Поэтому его частота, это вот,
[02:18:46.640 --> 02:18:48.640]  она имеет некое официальное значение.
[02:18:48.640 --> 02:18:53.640]  Но происходит, что ты его используешь официально.
[02:18:53.640 --> 02:18:55.640]  На самом деле, даже там есть проблема.
[02:18:55.640 --> 02:19:02.640]  Потому что, когда вы...
[02:19:02.640 --> 02:19:08.640]  Ну, кстати, никто не видел опцию Any Reduction.
[02:19:08.640 --> 02:19:10.640]  Или как оно еще называется?
[02:19:10.640 --> 02:19:12.640]  Это...
[02:19:14.640 --> 02:19:16.640]  Не помню, как это называется.
[02:19:16.640 --> 02:19:17.640]  Плюс 7.
[02:19:17.640 --> 02:19:18.640]  То есть это про это.
[02:19:18.640 --> 02:19:22.640]  Про то, чтобы уменьшить электромагнитное излучение
[02:19:22.640 --> 02:19:24.640]  от вашего жрела.
[02:19:24.640 --> 02:19:27.640]  Потому что ваши высокочастотные генераторы
[02:19:27.640 --> 02:19:31.640]  довольно не сильно понятны вообще в пространстве.
[02:19:31.640 --> 02:19:33.640]  И чтобы снизить это излучение,
[02:19:33.640 --> 02:19:36.640]  генераторы обычно используются в режиме,
[02:19:36.640 --> 02:19:39.640]  что они генерируют нестабильную частоту,
[02:19:39.640 --> 02:19:44.640]  а плавающую в диапазоне где-то 0,2%.
[02:19:44.640 --> 02:19:47.640]  То есть частота у вас слегка плавает.
[02:19:47.640 --> 02:19:50.640]  И, конечно, плавает она куда?
[02:19:50.640 --> 02:19:53.640]  В минус.
[02:19:53.640 --> 02:19:56.640]  Потому что если вы будете плавать в плюс,
[02:19:56.640 --> 02:19:58.640]  то это будет разбонус.
[02:19:58.640 --> 02:20:02.640]  Поэтому оно обычно от вашей официальной частоты
[02:20:02.640 --> 02:20:06.640]  до где-нибудь минус 0,2% плавает.
[02:20:06.640 --> 02:20:10.640]  И оно, вот эта плавание частоты,
[02:20:10.640 --> 02:20:12.640]  оно тоже рядом чуть-чуть отражается.
[02:20:14.640 --> 02:20:17.640]  Потому что это плавание этого внешнего генератора,
[02:20:17.640 --> 02:20:20.640]  который торчит из-за вашего процесса.
[02:20:20.640 --> 02:20:23.640]  Так что, в общем случае, эта задача такая
[02:20:23.640 --> 02:20:26.640]  заведомо обреченная на неудачу.
[02:20:26.640 --> 02:20:30.640]  Вы, конечно, можете какое-то значение туда написать,
[02:20:30.640 --> 02:20:33.640]  но это будет значение в дефолтном условии.
[02:20:33.640 --> 02:20:38.640]  Поэтому, если вы хотите перевести это в реальное время,
[02:20:38.640 --> 02:20:42.640]  то вы просто берете какой-то датчик реального времени,
[02:20:42.640 --> 02:20:45.640]  в данной своей операционке,
[02:20:45.640 --> 02:20:51.640]  ждете пару секунд и калибруете, множите,
[02:20:51.640 --> 02:20:57.640]  чтобы перевести это в реальное время.
[02:20:57.640 --> 02:21:01.640]  Но это не требуется, когда вы бенчмаркаете код.
[02:21:01.640 --> 02:21:04.640]  Потому что вас не интересует реальное время,
[02:21:04.640 --> 02:21:07.640]  вас интересует относительная скорость.
[02:21:12.640 --> 02:21:19.640]  Если вы хотите, чтобы вы сделали такой эффект.
[02:21:19.640 --> 02:21:21.640]  Ну, то есть, он не нравится.
[02:21:21.640 --> 02:21:23.640]  А если он все обернет?
[02:21:23.640 --> 02:21:26.640]  Ну, и весь этот датчик, что с ним можно будет делать,
[02:21:26.640 --> 02:21:28.640]  я бы рекомендовал.
[02:21:28.640 --> 02:21:33.640]  Потому что качественным поэтом можно не визировать код,
[02:21:33.640 --> 02:21:36.640]  но делать код можно очень просто.
[02:21:36.640 --> 02:21:38.640]  Можно поэтнее посмотреть,
[02:21:38.640 --> 02:21:41.640]  а как он на самом деле работает,
[02:21:41.640 --> 02:21:47.640]  как ты думал, что я работаю. Вот по этому поводу, а плачет то, что ты хочешь.
[02:21:47.640 --> 02:21:54.640]  Так, ты чаще живешь под виндовер. Под виндовер я тебе вижу студию.
[02:21:54.640 --> 02:22:01.640]  Вот, под виндовер студии у тебя есть старт-плач. И ты можешь это прямо даже...
[02:22:01.640 --> 02:22:07.640]  Например, наше можно интегрировать в виндовер студии, но если я это не делаю, можно просто старт-плач использовать.
[02:22:07.640 --> 02:22:11.640]  Вот, давай, я тебе вижу студию.
[02:22:11.640 --> 02:22:13.640]  У меня вопрос.
[02:22:13.640 --> 02:22:16.640]  Я тебе говорю, что я живу в виндовере.
[02:22:16.640 --> 02:22:18.640]  Только на вэбе.
[02:22:18.640 --> 02:22:20.640]  Я умножаю.
[02:22:20.640 --> 02:22:22.640]  Нет, там не надо ничего.
[02:22:22.640 --> 02:22:24.640]  Я знаю, что я знаю.
[02:22:24.640 --> 02:22:27.640]  Я точно не должен жить в вэбе.
[02:22:27.640 --> 02:22:29.640]  Вот.
[02:22:29.640 --> 02:22:31.640]  Если ты волкал, то ты можешь быть волкал.
[02:22:31.640 --> 02:22:32.640]  Где ты?
[02:22:32.640 --> 02:22:34.640]  Где нужно находиться?
[02:22:34.640 --> 02:22:35.640]  На вэбе.
[02:22:35.640 --> 02:22:36.640]  Ну, сам сражайся.
[02:22:36.640 --> 02:22:37.640]  Сам заставь.
[02:22:37.640 --> 02:22:38.640]  Конечно.
[02:22:38.640 --> 02:22:40.640]  Давай, файл.
[02:22:40.640 --> 02:22:42.640]  Открыть.
[02:22:49.640 --> 02:22:56.640]  И вот здесь нужно указать экзешник, который у тебя получился после комбинации.
[02:22:58.640 --> 02:23:06.640]  Эта штука будет с окладчиком, и ты сможешь походить по своему экзешнику через F10.
[02:23:06.640 --> 02:23:28.800]  И�
[02:23:32.640 --> 02:23:34.640]  Я нужно что-то отроднить, чтобы я много 对ить не шумал.
[02:23:34.640 --> 02:23:35.640]  Ну давай.
[02:23:35.640 --> 02:24:05.620]  Вот, здесь ты можешь клавиши навык пересмотреть.
[02:24:05.620 --> 02:24:35.600]  Вот, здесь ты можешь клавиши навык пересмотреть.
[02:24:35.620 --> 02:25:05.600]  Вот, здесь ты можешь клавиши навык пересмотреть.
[02:25:05.620 --> 02:25:35.600]  Вот, здесь ты можешь клавиши навык пересмотреть.
[02:25:35.620 --> 02:26:05.600]  Вот, здесь ты можешь клавиши навык пересмотреть.
[02:26:05.620 --> 02:26:35.600]  Вот, здесь ты можешь клавиши навык пересмотреть.
[02:26:35.620 --> 02:26:38.620]  Вот, здесь ты можешь клавиши навык пересмотреть.
[02:26:38.620 --> 02:26:50.160]  Вот, здесь ты можешь клавиши навык пересмотреть.
[02:26:50.160 --> 02:26:59.680]  Вот, здесь ты можешь клавиши навык пересмотреть.
[02:26:59.680 --> 02:27:01.720]  Вот, здесь ты можешь клавиши навык пересмотреть.
[02:27:01.720 --> 02:27:02.600]  Вот, здесь ты можешь клавиши навык пересмотреть.
[02:27:02.600 --> 02:27:03.460]  Вот, здесь ты можешь клавиши навык пересмотреть.
[02:27:03.460 --> 02:27:04.200]  Вот, здесь ты можешь клавиши навык пересмотреть.
[02:27:04.200 --> 02:27:04.760]  Вот, здесь ты можешь клавиши навык пересмотреть.
[02:27:04.760 --> 02:27:05.340]  Вот, здесь ты можешь клавиши навык пересмотреть.
[02:27:05.340 --> 02:27:05.400]  Вот, здесь ты можешь клавиши навык пересмотреть.
[02:27:05.420 --> 02:27:05.480]  Вот, здесь ты можешь клавиши навык пересмотреть.
[02:27:05.480 --> 02:27:11.840]  попробуйте разные варианты
[02:27:11.840 --> 02:27:13.180]  попробуйте там
[02:27:13.180 --> 02:27:14.980]  облированные значения на скейте
[02:27:14.980 --> 02:27:15.860]  Fx, Ch
[02:27:15.860 --> 02:27:27.340]  в каком порядке
[02:27:27.340 --> 02:27:57.320]  Fx, Ch
[02:27:57.320 --> 02:27:57.340]  Fx, Ch
[02:27:57.340 --> 02:28:02.840]  может быстрее скопировать значение на вершину
[02:28:02.840 --> 02:28:04.940]  и сделать Fx, Ch
[02:28:04.940 --> 02:28:11.620]  ну то есть варианты есть
[02:28:11.620 --> 02:28:15.780]  я не могу сказать, какой быстрее
[02:28:15.780 --> 02:28:18.000]  просто могу сказать, что точно
[02:28:18.000 --> 02:28:19.840]  здесь есть разные варианты
[02:28:19.840 --> 02:28:21.100]  что можно попробовать
[02:28:21.100 --> 02:28:24.500]  я вам предлагаю, когда у вас есть работающий код
[02:28:24.500 --> 02:28:26.160]  и измерение времени
[02:28:26.160 --> 02:28:27.320]  попробуйте
[02:28:27.320 --> 02:28:28.460]  попробуйте разные варианты
[02:28:28.460 --> 02:28:30.920]  посмотреть, а что работает быстрее
[02:28:30.920 --> 02:28:40.620]  я вас совершенно подготавливаю
[02:28:40.620 --> 02:28:43.320]  к следующей лабораторной работе
[02:28:46.080 --> 02:28:49.420]  потому что еще раз
[02:28:49.420 --> 02:28:51.320]  начиная со второй лабораторной работы
[02:28:51.320 --> 02:28:54.120]  у вас будет большой вклад
[02:28:54.120 --> 02:28:55.820]  в оценку
[02:28:55.820 --> 02:28:57.300]  скорость работы
[02:28:57.300 --> 02:28:58.560]  вашей реализации
[02:28:58.560 --> 02:29:07.560]  она, конечно, усоединяется с миллионами операций
[02:29:07.560 --> 02:29:09.560]  но все равно погода на Марсе
[02:29:09.560 --> 02:29:11.560]  ну я вам так и сказал
[02:29:11.560 --> 02:29:14.560]  еще раз, если ты хочешь мерить непогоду на Марсе
[02:29:14.560 --> 02:29:16.560]  ты хочешь, во-первых, подсунуть зарядку
[02:29:16.560 --> 02:29:22.560]  во-вторых, делать интервал порядка хотя бы миллисекунд
[02:29:22.560 --> 02:29:24.560]  а интервал порядка миллисекунд?
[02:29:24.560 --> 02:29:26.560]  пару секунд норма
[02:29:26.560 --> 02:29:30.440]  и что ты сделаешь?
[02:29:30.440 --> 02:29:34.440]  ну можешь попробовать выключить турбо
[02:29:34.440 --> 02:29:40.740]  сложно
[02:29:40.740 --> 02:29:44.960] acie
[02:29:44.960 --> 02:29:50.600]  а у него нет самомarla
[02:29:50.600 --> 02:29:52.520]  если вы 열�ете приближайся какой-нибудь
[02:29:52.520 --> 02:29:55.700]  может быть уж revival
[02:29:55.700 --> 02:29:56.500]  не стоит després
[02:29:56.500 --> 02:29:59.500]  Но у меня есть пробочки, и я не могу заставить.
[02:30:01.500 --> 02:30:02.500]  Самые правильные.
[02:30:02.500 --> 02:30:05.500]  Нет, как я хочу. Просто вот это.
[02:30:06.500 --> 02:30:09.500]  Только не забудь в конце это тело убрать.
[02:30:09.500 --> 02:30:12.500]  Потому что без оттачек это все просто крашится.
[02:30:16.500 --> 02:30:18.500]  Понимаешь?
[02:30:18.500 --> 02:30:20.500]  Сама посмотри.
[02:30:21.500 --> 02:30:23.500]  Вот он, то есть ты.
[02:30:23.500 --> 02:30:25.500]  Да, да, да.
[02:30:29.500 --> 02:30:31.500]  Так смотри.
[02:30:31.500 --> 02:30:33.500]  Он круговой.
[02:30:33.500 --> 02:30:36.500]  Да, то есть значения не удаляются.
[02:30:36.500 --> 02:30:40.500]  Они отмечаются как свободное место,
[02:30:40.500 --> 02:30:45.500]  но само значение, оно просто прокручивается и остается.
[02:30:53.500 --> 02:30:54.500]  Да.
[02:30:59.500 --> 02:31:01.500]  Ну, короче.
[02:31:01.500 --> 02:31:02.500]  Да.
[02:31:05.500 --> 02:31:06.500]  Точнее.
[02:31:08.500 --> 02:31:09.500]  Вот это получше.
[02:31:09.500 --> 02:31:11.500]  А это больше не представлено.
[02:31:11.500 --> 02:31:13.500]  Я уже о чем-то вспомнил.
[02:31:15.500 --> 02:31:16.500]  Почему?
[02:31:16.500 --> 02:31:19.500]  Потому что там, когда ты встанешь, там всяко-всёко.
[02:31:19.500 --> 02:31:21.500]  Это да, это да.
[02:31:21.500 --> 02:31:22.500]  Чего это?
[02:31:22.500 --> 02:31:23.500]  Наш алмаз.
[02:31:23.500 --> 02:31:25.500]  Маша, вон это.
[02:31:28.500 --> 02:31:30.500]  Маши, ничего, что-нибудь поменяю.
[02:31:30.500 --> 02:31:31.500]  Мы допускали.
[02:31:31.500 --> 02:31:32.500]  Зачем?
[02:31:32.500 --> 02:31:34.500]  Допустим, если ты не считаешь заработник в ноль, а я считаю,
[02:31:34.500 --> 02:31:35.500]  то это бесплатно.
[02:31:35.500 --> 02:31:36.500]  Аааа.
[02:31:36.500 --> 02:31:37.500]  Это супер.
[02:31:37.500 --> 02:31:38.500]  Есть функция constel.
[02:31:39.500 --> 02:31:40.500]  Как она?
[02:31:40.500 --> 02:31:41.500]  Нафиг.
[02:31:41.500 --> 02:31:42.500]  А, вот что же.
[02:31:43.500 --> 02:31:50.500]  У вас есть нормально работающая встроенная стандартная библиотечная функция?
[02:31:50.500 --> 02:31:51.500]  Да, она у нас есть.
[02:31:51.500 --> 02:32:01.500]  которая работает намного точнее, чем ваши жалкие попытки на констэкспорт что-то посчитать.
[02:32:01.500 --> 02:32:16.500]  Одно из совершенно угодных особенностей современного констэкспорта, что сейчас ситуация,
[02:32:16.500 --> 02:32:22.500]  когда вы хотите учить тригонометрию, но давайте вы напишите ручками тригонометрию.
[02:32:22.500 --> 02:32:25.500]  Это полная глупость.
[02:32:25.500 --> 02:32:36.500]  И вроде как в новом стандарте тусов они обещают поправить, но они уже давно занимаются.
[02:32:36.500 --> 02:32:40.500]  Они с рождения констэкспорта его фиксуют.
[02:32:40.500 --> 02:32:43.500]  Абсолютно каждый стандарт.
[02:32:46.500 --> 02:32:52.500]  Так что, народ, вот здесь не то место, где надо возвращаться с констэкспорта.
[02:33:07.500 --> 02:33:09.500]  Ну, что у вас там?
[02:33:09.500 --> 02:33:11.500]  Черт люби.
[02:33:11.500 --> 02:33:14.500]  Вроде меряется. Время меряется немножко.
[02:33:14.500 --> 02:33:16.500]  Ну, вот попробуйте.
[02:33:16.500 --> 02:33:20.500]  Смотрите разные варианты, какие у вас были.
[02:33:20.500 --> 02:33:23.500]  Как можно посчитать?
[02:33:23.500 --> 02:33:26.500]  Посмотрите на время.
[02:33:26.500 --> 02:33:29.500]  Нет, в самую погоду.
[02:33:29.500 --> 02:33:31.500]  Ты точно выключил?
[02:33:31.500 --> 02:33:37.500]  Глупый у тебя рандом, на пару секунд чуть не верил.
[02:33:37.500 --> 02:33:42.500]  Он плавает в диапазоне пары тысяч на порядке 130 тысяч.
[02:33:42.500 --> 02:33:46.500]  Значение на сколько в процентах отвечает?
[02:33:46.500 --> 02:33:48.500]  Меньше процента.
[02:33:48.500 --> 02:33:50.500]  Процент это уже погода на Марсе.
[02:33:50.500 --> 02:33:52.500]  Меньше процента это прям неплохо.
[02:33:52.500 --> 02:33:54.500]  Давай, не отвечай.
[02:33:54.500 --> 02:33:56.500]  Ладно, скажи, давай.
[02:33:56.500 --> 02:34:00.500]  Если он у тебя в диапазоне отличается, то это погода на Марсе.
[02:34:00.500 --> 02:34:08.500]  Если она имеет относительную погрешность более процента, то это очень нехороший вид.
[02:34:08.500 --> 02:34:10.500]  Ну, наверное, да.
[02:34:10.500 --> 02:34:12.500]  Не погрешно даже.
[02:34:12.500 --> 02:34:14.500]  Скорее отпусти.
[02:34:14.500 --> 02:34:19.500]  Кстати, если переделать...
